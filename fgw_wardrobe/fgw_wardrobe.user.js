// ==UserScript==
// @name           FGW Wardrobe
// @namespace      http://ptwestscript.blogspot.com/
// @description    For all your wardrobe needs!
// @include        http://*.the-west.*/game.php*
// ==/UserScript==

// Script dos Botões

var inv_val = document.createElement("li");
inv_val.id="inv_val";
var einstellungen = document.getElementById('menu_settings');
var nachrichten = document.getElementById('menu_messages');


einstellungen.parentNode.insertBefore(inv_val, einstellungen.nextSibling);

// Script dos atalhos dos edifícios

var Have_City = document.getElementById('menu_townforum');

if(Have_City){

function addFooterIcon(mylink,idname,tooltip) {
    var head, style;
    footer_menu_left = document.getElementById('footer_menu_left');
    if (!footer_menu_left) {return;}
    var iconlink = document.createElement('a');
	iconlink.setAttribute('href',mylink);
	iconlink.innerHTML = "<img id=\""+idname+"\" alt=\"\" title=\""+tooltip+"\" src=\"images/transparent.png\"/>";
    footer_menu_left.appendChild(iconlink);
}

ToolTip_Gunsmith='Gunsmith';
ToolTip_Tailor='Tailor';
ToolTip_General='General Store';
ToolTip_Hotel='Hotel';
ToolTip_Bank='Bank';
ToolTip_Church='Chapel';
ToolTip_Mortician='Undertaker';
ToolTip_CityHall='Town Hall';
ToolTip_FingerBoard = 'Go home';

addFooterIcon('javascript:if(Character.home_town != null) AjaxWindow.show(\'building_gunsmith\',{town_id:Character.home_town.town_id},Character.home_town.town_id);','footer_building_gunsmith',ToolTip_Gunsmith);
addFooterIcon('javascript:if(Character.home_town != null) AjaxWindow.show(\'building_tailor\',{town_id:Character.home_town.town_id},Character.home_town.town_id);','footer_building_tailor',ToolTip_Tailor);
addFooterIcon('javascript:if(Character.home_town != null) AjaxWindow.show(\'building_general\',{town_id:Character.home_town.town_id},Character.home_town.town_id);','footer_building_general',ToolTip_General);
addFooterIcon('javascript:if(Character.home_town != null) AjaxWindow.show(\'building_hotel\',{town_id:Character.home_town.town_id},Character.home_town.town_id);','footer_building_hotel',ToolTip_Hotel);
addFooterIcon('javascript:if(Character.home_town != null) AjaxWindow.show(\'building_bank\',{town_id:Character.home_town.town_id},Character.home_town.town_id);','footer_building_bank',ToolTip_Bank);
addFooterIcon('javascript:if(Character.home_town != null) AjaxWindow.show(\'building_church\',{town_id:Character.home_town.town_id},Character.home_town.town_id);','footer_building_church',ToolTip_Church);
addFooterIcon('javascript:if(Character.home_town != null) AjaxWindow.show(\'building_mortician\',{town_id:Character.home_town.town_id},Character.home_town.town_id);','footer_building_mortician',ToolTip_Mortician);
addFooterIcon('javascript:if(Character.home_town != null) AjaxWindow.show(\'building_cityhall\',{town_id:Character.home_town.town_id},Character.home_town.town_id);','footer_building_cityhall',ToolTip_CityHall);
addFooterIcon('javascript:if(Character.home_town != null) AjaxWindow.show(\'fingerboard\',{town_id:Character.home_town.town_id},Character.home_town.town_id);','footer_scroll_map_to_home_town',ToolTip_FingerBoard);

function addGlobalStyle(css) {
    var head, style;
    head = document.getElementsByTagName('head')[0];
    if (!head) {return;}
    style = document.createElement('style');
    style.type = 'text/css';
    style.innerHTML = css;
    head.appendChild(style);
}

addGlobalStyle('#abdorment_middle {display:none;}');
addGlobalStyle('#footer_menu_left #footer_building_gunsmith, #footer_menu_left #footer_building_tailor,#footer_menu_left #footer_building_general,#footer_menu_left #footer_building_hotel,#footer_menu_left #footer_building_bank,#footer_menu_left #footer_building_church,#footer_menu_left #footer_building_mortician ,#footer_menu_left #footer_building_cityhall,#footer_menu_left #footer_building_saloon {background-image:url(data:image/png;base64,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%3D);}');

addGlobalStyle('#footer_building_tailor {background-position:-37px 0;}');
addGlobalStyle('#footer_building_general {background-position:-74px 0;}');
addGlobalStyle('#footer_building_saloon {background-position:-111px 0;}');
addGlobalStyle('#footer_building_mortician {background-position:-148px 0;}');
addGlobalStyle('#footer_building_bank {background-position:-185px 0;}');
addGlobalStyle('#footer_building_church {background-position:-222px 0;}');
addGlobalStyle('#footer_building_hotel {background-position:-259px 0;}');
addGlobalStyle('#footer_building_cityhall {background-position:-296px 0;}');
addGlobalStyle('.homeless #footer_building_gunsmith {background-position:0px 37px; cursor:default;}');
addGlobalStyle('.homeless #footer_building_tailor {background-position:-37px 37px; cursor:default;}');
addGlobalStyle('.homeless #footer_building_general {background-position:-74px 37px; cursor:default;}');
addGlobalStyle('.homeless #footer_building_saloon {background-position:-111px 37px; cursor:default;}');
addGlobalStyle('.homeless #footer_building_mortician {background-position:-148px 37px; cursor:default;}');
addGlobalStyle('.homeless #footer_building_bank {background-position:-185px 37px; cursor:default;}');
addGlobalStyle('.homeless #footer_building_church {background-position:-222px 37px; cursor:default;}');
addGlobalStyle('.homeless #footer_building_hotel {background-position:-259px 37px; cursor:default;}');
addGlobalStyle('.homeless #footer_building_cityhall {background-position:-296px 37px; cursor:default;}');

function addEndDiv(code) {
    var bodyx, enddiv;
    bodyx = document.getElementsByTagName('body')[0];
    if (!bodyx) {return;}
    enddiv = document.createElement('script');
    enddiv.type = 'text/javascript';
    enddiv.innerHTML = code;
    bodyx.appendChild(enddiv);
}

addEndDiv('\
	if (Character.home_town == null) {\
		var footer_menu_left = document.getElementById(\'footer_menu_left\');\
		footer_menu_left.setAttribute(\'class\',\'homeless\');\
	}\
;');
}

// Script TW Pro --> http://www.tw-pro.de <--

function twpro_injectScript()
{
  TWPro.twpro_calculated = false;
  TWPro.twpro_failure = false;
  TWPro.twpro_failureInject = false;
  TWPro.twpro_failureRollback = new Array();
  TWPro.twpro_active = true;
  TWPro.twpro_jobs = new Array();
  TWPro.twpro_jobValues = new Object();
  TWPro.twpro_jobValues.swine = new Object();
  TWPro.twpro_jobValues.swine.erfahrung = 1;
  TWPro.twpro_jobValues.swine.lohn = 3;
  TWPro.twpro_jobValues.swine.glueck = 0;
  TWPro.twpro_jobValues.swine.gefahr = 1;
  TWPro.twpro_jobValues.scarecrow = new Object();
  TWPro.twpro_jobValues.scarecrow.erfahrung = 3;
  TWPro.twpro_jobValues.scarecrow.lohn = 1;
  TWPro.twpro_jobValues.scarecrow.glueck = 2;
  TWPro.twpro_jobValues.scarecrow.gefahr = 20;
  TWPro.twpro_jobValues.wanted = new Object();
  TWPro.twpro_jobValues.wanted.erfahrung = 3;
  TWPro.twpro_jobValues.wanted.lohn = 2;
  TWPro.twpro_jobValues.wanted.glueck = 0;
  TWPro.twpro_jobValues.wanted.gefahr = 10;
  TWPro.twpro_jobValues.tabacco = new Object();
  TWPro.twpro_jobValues.tabacco.erfahrung = 1;
  TWPro.twpro_jobValues.tabacco.lohn = 6;
  TWPro.twpro_jobValues.tabacco.glueck = 2;
  TWPro.twpro_jobValues.tabacco.gefahr = 2;
  TWPro.twpro_jobValues.cotton = new Object();
  TWPro.twpro_jobValues.cotton.erfahrung = 4;
  TWPro.twpro_jobValues.cotton.lohn = 1;
  TWPro.twpro_jobValues.cotton.glueck = 0;
  TWPro.twpro_jobValues.cotton.gefahr = 3;
  TWPro.twpro_jobValues.sugar = new Object();
  TWPro.twpro_jobValues.sugar.erfahrung = 2;
  TWPro.twpro_jobValues.sugar.lohn = 5;
  TWPro.twpro_jobValues.sugar.glueck = 4;
  TWPro.twpro_jobValues.sugar.gefahr = 1;
  TWPro.twpro_jobValues.angle = new Object();
  TWPro.twpro_jobValues.angle.erfahrung = 0;
  TWPro.twpro_jobValues.angle.lohn = 1;
  TWPro.twpro_jobValues.angle.glueck = 6;
  TWPro.twpro_jobValues.angle.gefahr = 2;
  TWPro.twpro_jobValues.cereal = new Object();
  TWPro.twpro_jobValues.cereal.erfahrung = 6;
  TWPro.twpro_jobValues.cereal.lohn = 2;
  TWPro.twpro_jobValues.cereal.glueck = 2;
  TWPro.twpro_jobValues.cereal.gefahr = 4;
  TWPro.twpro_jobValues.berry = new Object();
  TWPro.twpro_jobValues.berry.erfahrung = 6;
  TWPro.twpro_jobValues.berry.lohn = 2;
  TWPro.twpro_jobValues.berry.glueck = 5;
  TWPro.twpro_jobValues.berry.gefahr = 6;
  TWPro.twpro_jobValues.sheeps = new Object();
  TWPro.twpro_jobValues.sheeps.erfahrung = 5;
  TWPro.twpro_jobValues.sheeps.lohn = 3;
  TWPro.twpro_jobValues.sheeps.glueck = 0;
  TWPro.twpro_jobValues.sheeps.gefahr = 2;
  TWPro.twpro_jobValues.newspaper = new Object();
  TWPro.twpro_jobValues.newspaper.erfahrung = 1;
  TWPro.twpro_jobValues.newspaper.lohn = 6;
  TWPro.twpro_jobValues.newspaper.glueck = 2;
  TWPro.twpro_jobValues.newspaper.gefahr = 1;
  TWPro.twpro_jobValues.cut = new Object();
  TWPro.twpro_jobValues.cut.erfahrung = 7;
  TWPro.twpro_jobValues.cut.lohn = 5;
  TWPro.twpro_jobValues.cut.glueck = 3;
  TWPro.twpro_jobValues.cut.gefahr = 3;
  TWPro.twpro_jobValues.grinding = new Object();
  TWPro.twpro_jobValues.grinding.erfahrung = 7;
  TWPro.twpro_jobValues.grinding.lohn = 11;
  TWPro.twpro_jobValues.grinding.glueck = 0;
  TWPro.twpro_jobValues.grinding.gefahr = 5;
  TWPro.twpro_jobValues.corn = new Object();
  TWPro.twpro_jobValues.corn.erfahrung = 7;
  TWPro.twpro_jobValues.corn.lohn = 4;
  TWPro.twpro_jobValues.corn.glueck = 8;
  TWPro.twpro_jobValues.corn.gefahr = 5;
  TWPro.twpro_jobValues.beans = new Object();
  TWPro.twpro_jobValues.beans.erfahrung = 7;
  TWPro.twpro_jobValues.beans.lohn = 9;
  TWPro.twpro_jobValues.beans.glueck = 4;
  TWPro.twpro_jobValues.beans.gefahr = 5;
  TWPro.twpro_jobValues.fort_guard = new Object();
  TWPro.twpro_jobValues.fort_guard.erfahrung = 9;
  TWPro.twpro_jobValues.fort_guard.lohn = 3;
  TWPro.twpro_jobValues.fort_guard.glueck = 2;
  TWPro.twpro_jobValues.fort_guard.gefahr = 7;
  TWPro.twpro_jobValues.tanning = new Object();
  TWPro.twpro_jobValues.tanning.erfahrung = 15;
  TWPro.twpro_jobValues.tanning.lohn = 12;
  TWPro.twpro_jobValues.tanning.glueck = 5;
  TWPro.twpro_jobValues.tanning.gefahr = 18;
  TWPro.twpro_jobValues.digging = new Object();
  TWPro.twpro_jobValues.digging.erfahrung = 3;
  TWPro.twpro_jobValues.digging.lohn = 11;
  TWPro.twpro_jobValues.digging.glueck = 5;
  TWPro.twpro_jobValues.digging.gefahr = 7;
  TWPro.twpro_jobValues.grave = new Object();
  TWPro.twpro_jobValues.grave.erfahrung = 12;
  TWPro.twpro_jobValues.grave.lohn = 16;
  TWPro.twpro_jobValues.grave.glueck = 22;
  TWPro.twpro_jobValues.grave.gefahr = 9;
  TWPro.twpro_jobValues.turkey = new Object();
  TWPro.twpro_jobValues.turkey.erfahrung = 14;
  TWPro.twpro_jobValues.turkey.lohn = 3;
  TWPro.twpro_jobValues.turkey.glueck = 7;
  TWPro.twpro_jobValues.turkey.gefahr = 21;
  TWPro.twpro_jobValues.rail = new Object();
  TWPro.twpro_jobValues.rail.erfahrung = 18;
  TWPro.twpro_jobValues.rail.lohn = 10;
  TWPro.twpro_jobValues.rail.glueck = 5;
  TWPro.twpro_jobValues.rail.gefahr = 10;
  TWPro.twpro_jobValues.cow = new Object();
  TWPro.twpro_jobValues.cow.erfahrung = 17;
  TWPro.twpro_jobValues.cow.lohn = 5;
  TWPro.twpro_jobValues.cow.glueck = 0;
  TWPro.twpro_jobValues.cow.gefahr = 11;
  TWPro.twpro_jobValues.fence = new Object();
  TWPro.twpro_jobValues.fence.erfahrung = 11;
  TWPro.twpro_jobValues.fence.lohn = 7;
  TWPro.twpro_jobValues.fence.glueck = 5;
  TWPro.twpro_jobValues.fence.gefahr = 6;
  TWPro.twpro_jobValues.saw = new Object();
  TWPro.twpro_jobValues.saw.erfahrung = 12;
  TWPro.twpro_jobValues.saw.lohn = 23;
  TWPro.twpro_jobValues.saw.glueck = 6;
  TWPro.twpro_jobValues.saw.gefahr = 32;
  TWPro.twpro_jobValues.stone = new Object();
  TWPro.twpro_jobValues.stone.erfahrung = 8;
  TWPro.twpro_jobValues.stone.lohn = 17;
  TWPro.twpro_jobValues.stone.glueck = 9;
  TWPro.twpro_jobValues.stone.gefahr = 33;
  TWPro.twpro_jobValues.straighten = new Object();
  TWPro.twpro_jobValues.straighten.erfahrung = 22;
  TWPro.twpro_jobValues.straighten.lohn = 8;
  TWPro.twpro_jobValues.straighten.glueck = 15;
  TWPro.twpro_jobValues.straighten.gefahr = 12;
  TWPro.twpro_jobValues.wood = new Object();
  TWPro.twpro_jobValues.wood.erfahrung = 5;
  TWPro.twpro_jobValues.wood.lohn = 18;
  TWPro.twpro_jobValues.wood.glueck = 2;
  TWPro.twpro_jobValues.wood.gefahr = 21;
  TWPro.twpro_jobValues.irrigation = new Object();
  TWPro.twpro_jobValues.irrigation.erfahrung = 13;
  TWPro.twpro_jobValues.irrigation.lohn = 7;
  TWPro.twpro_jobValues.irrigation.glueck = 15;
  TWPro.twpro_jobValues.irrigation.gefahr = 6;
  TWPro.twpro_jobValues.brand = new Object();
  TWPro.twpro_jobValues.brand.erfahrung = 25;
  TWPro.twpro_jobValues.brand.lohn = 8;
  TWPro.twpro_jobValues.brand.glueck = 0;
  TWPro.twpro_jobValues.brand.gefahr = 35;
  TWPro.twpro_jobValues.wire = new Object();
  TWPro.twpro_jobValues.wire.erfahrung = 13;
  TWPro.twpro_jobValues.wire.lohn = 17;
  TWPro.twpro_jobValues.wire.glueck = 6;
  TWPro.twpro_jobValues.wire.gefahr = 0;
  TWPro.twpro_jobValues.dam = new Object();
  TWPro.twpro_jobValues.dam.erfahrung = 18;
  TWPro.twpro_jobValues.dam.lohn = 4;
  TWPro.twpro_jobValues.dam.glueck = 9;
  TWPro.twpro_jobValues.dam.gefahr = 41;
  TWPro.twpro_jobValues.gems = new Object();
  TWPro.twpro_jobValues.gems.erfahrung = 7;
  TWPro.twpro_jobValues.gems.lohn = 25;
  TWPro.twpro_jobValues.gems.glueck = 8;
  TWPro.twpro_jobValues.gems.gefahr = 4;
  TWPro.twpro_jobValues.claim = new Object();
  TWPro.twpro_jobValues.claim.erfahrung = 4;
  TWPro.twpro_jobValues.claim.lohn = 31;
  TWPro.twpro_jobValues.claim.glueck = 4;
  TWPro.twpro_jobValues.claim.gefahr = 29;
  TWPro.twpro_jobValues.chuck_wagon = new Object();
  TWPro.twpro_jobValues.chuck_wagon.erfahrung = 23;
  TWPro.twpro_jobValues.chuck_wagon.lohn = 5;
  TWPro.twpro_jobValues.chuck_wagon.glueck = 42;
  TWPro.twpro_jobValues.chuck_wagon.gefahr = 11;
  TWPro.twpro_jobValues.break_in = new Object();
  TWPro.twpro_jobValues.break_in.erfahrung = 32;
  TWPro.twpro_jobValues.break_in.lohn = 13;
  TWPro.twpro_jobValues.break_in.glueck = 10;
  TWPro.twpro_jobValues.break_in.gefahr = 52;
  TWPro.twpro_jobValues.trade = new Object();
  TWPro.twpro_jobValues.trade.erfahrung = 3;
  TWPro.twpro_jobValues.trade.lohn = 15;
  TWPro.twpro_jobValues.trade.glueck = 25;
  TWPro.twpro_jobValues.trade.gefahr = 12;
  TWPro.twpro_jobValues.mast = new Object();
  TWPro.twpro_jobValues.mast.erfahrung = 25;
  TWPro.twpro_jobValues.mast.lohn = 21;
  TWPro.twpro_jobValues.mast.glueck = 3;
  TWPro.twpro_jobValues.mast.gefahr = 14;
  TWPro.twpro_jobValues.spring = new Object();
  TWPro.twpro_jobValues.spring.erfahrung = 33;
  TWPro.twpro_jobValues.spring.lohn = 9;
  TWPro.twpro_jobValues.spring.glueck = 23;
  TWPro.twpro_jobValues.spring.gefahr = 19;
  TWPro.twpro_jobValues.beaver = new Object();
  TWPro.twpro_jobValues.beaver.erfahrung = 17;
  TWPro.twpro_jobValues.beaver.lohn = 32;
  TWPro.twpro_jobValues.beaver.glueck = 6;
  TWPro.twpro_jobValues.beaver.gefahr = 21;
  TWPro.twpro_jobValues.coal = new Object();
  TWPro.twpro_jobValues.coal.erfahrung = 14;
  TWPro.twpro_jobValues.coal.lohn = 30;
  TWPro.twpro_jobValues.coal.glueck = 0;
  TWPro.twpro_jobValues.coal.gefahr = 13;
  TWPro.twpro_jobValues.print = new Object();
  TWPro.twpro_jobValues.print.erfahrung = 20;
  TWPro.twpro_jobValues.print.lohn = 30;
  TWPro.twpro_jobValues.print.glueck = 5;
  TWPro.twpro_jobValues.print.gefahr = 7;
  TWPro.twpro_jobValues.fishing = new Object();
  TWPro.twpro_jobValues.fishing.erfahrung = 23;
  TWPro.twpro_jobValues.fishing.lohn = 6;
  TWPro.twpro_jobValues.fishing.glueck = 23;
  TWPro.twpro_jobValues.fishing.gefahr = 38;
  TWPro.twpro_jobValues.trainstation = new Object();
  TWPro.twpro_jobValues.trainstation.erfahrung = 47;
  TWPro.twpro_jobValues.trainstation.lohn = 12;
  TWPro.twpro_jobValues.trainstation.glueck = 7;
  TWPro.twpro_jobValues.trainstation.gefahr = 15;
  TWPro.twpro_jobValues.windmeel = new Object();
  TWPro.twpro_jobValues.windmeel.erfahrung = 43;
  TWPro.twpro_jobValues.windmeel.lohn = 42;
  TWPro.twpro_jobValues.windmeel.glueck = 6;
  TWPro.twpro_jobValues.windmeel.gefahr = 18;
  TWPro.twpro_jobValues.explore = new Object();
  TWPro.twpro_jobValues.explore.erfahrung = 45;
  TWPro.twpro_jobValues.explore.lohn = 1;
  TWPro.twpro_jobValues.explore.glueck = 22;
  TWPro.twpro_jobValues.explore.gefahr = 37;
  TWPro.twpro_jobValues.float = new Object();
  TWPro.twpro_jobValues.float.erfahrung = 45;
  TWPro.twpro_jobValues.float.lohn = 23;
  TWPro.twpro_jobValues.float.glueck = 0;
  TWPro.twpro_jobValues.float.gefahr = 52;
  TWPro.twpro_jobValues.bridge = new Object();
  TWPro.twpro_jobValues.bridge.erfahrung = 33;
  TWPro.twpro_jobValues.bridge.lohn = 17;
  TWPro.twpro_jobValues.bridge.glueck = 18;
  TWPro.twpro_jobValues.bridge.gefahr = 53;
  TWPro.twpro_jobValues.springe = new Object();
  TWPro.twpro_jobValues.springe.erfahrung = 45;
  TWPro.twpro_jobValues.springe.lohn = 29;
  TWPro.twpro_jobValues.springe.glueck = 0;
  TWPro.twpro_jobValues.springe.gefahr = 42;
  TWPro.twpro_jobValues.coffin = new Object();
  TWPro.twpro_jobValues.coffin.erfahrung = 8;
  TWPro.twpro_jobValues.coffin.lohn = 42;
  TWPro.twpro_jobValues.coffin.glueck = 15;
  TWPro.twpro_jobValues.coffin.gefahr = 20;
  TWPro.twpro_jobValues.dynamite = new Object();
  TWPro.twpro_jobValues.dynamite.erfahrung = 12;
  TWPro.twpro_jobValues.dynamite.lohn = 23;
  TWPro.twpro_jobValues.dynamite.glueck = 64;
  TWPro.twpro_jobValues.dynamite.gefahr = 93;
  TWPro.twpro_jobValues.coyote = new Object();
  TWPro.twpro_jobValues.coyote.erfahrung = 43;
  TWPro.twpro_jobValues.coyote.lohn = 15;
  TWPro.twpro_jobValues.coyote.glueck = 26;
  TWPro.twpro_jobValues.coyote.gefahr = 45;
  TWPro.twpro_jobValues.buffalo = new Object();
  TWPro.twpro_jobValues.buffalo.erfahrung = 62;
  TWPro.twpro_jobValues.buffalo.lohn = 24;
  TWPro.twpro_jobValues.buffalo.glueck = 0;
  TWPro.twpro_jobValues.buffalo.gefahr = 72;
  TWPro.twpro_jobValues.fort = new Object();
  TWPro.twpro_jobValues.fort.erfahrung = 71;
  TWPro.twpro_jobValues.fort.lohn = 33;
  TWPro.twpro_jobValues.fort.glueck = 17;
  TWPro.twpro_jobValues.fort.gefahr = 35;
  TWPro.twpro_jobValues.indians = new Object();
  TWPro.twpro_jobValues.indians.erfahrung = 14;
  TWPro.twpro_jobValues.indians.lohn = 11;
  TWPro.twpro_jobValues.indians.glueck = 63;
  TWPro.twpro_jobValues.indians.gefahr = 34;
  TWPro.twpro_jobValues.clearing = new Object();
  TWPro.twpro_jobValues.clearing.erfahrung = 8;
  TWPro.twpro_jobValues.clearing.lohn = 62;
  TWPro.twpro_jobValues.clearing.glueck = 9;
  TWPro.twpro_jobValues.clearing.gefahr = 16;
  TWPro.twpro_jobValues.silver = new Object();
  TWPro.twpro_jobValues.silver.erfahrung = 8;
  TWPro.twpro_jobValues.silver.lohn = 76;
  TWPro.twpro_jobValues.silver.glueck = 0;
  TWPro.twpro_jobValues.silver.gefahr = 32;
  TWPro.twpro_jobValues.diligence_guard = new Object();
  TWPro.twpro_jobValues.diligence_guard.erfahrung = 77;
  TWPro.twpro_jobValues.diligence_guard.lohn = 34;
  TWPro.twpro_jobValues.diligence_guard.glueck = 45;
  TWPro.twpro_jobValues.diligence_guard.gefahr = 43;
  TWPro.twpro_jobValues.wolf = new Object();
  TWPro.twpro_jobValues.wolf.erfahrung = 63;
  TWPro.twpro_jobValues.wolf.lohn = 21;
  TWPro.twpro_jobValues.wolf.glueck = 15;
  TWPro.twpro_jobValues.wolf.gefahr = 67;
  TWPro.twpro_jobValues.track = new Object();
  TWPro.twpro_jobValues.track.erfahrung = 60;
  TWPro.twpro_jobValues.track.lohn = 10;
  TWPro.twpro_jobValues.track.glueck = 30;
  TWPro.twpro_jobValues.track.gefahr = 33;
  TWPro.twpro_jobValues.ox = new Object();
  TWPro.twpro_jobValues.ox.erfahrung = 34;
  TWPro.twpro_jobValues.ox.lohn = 64;
  TWPro.twpro_jobValues.ox.glueck = 18;
  TWPro.twpro_jobValues.ox.gefahr = 43;
  TWPro.twpro_jobValues.guard = new Object();
  TWPro.twpro_jobValues.guard.erfahrung = 35;
  TWPro.twpro_jobValues.guard.lohn = 25;
  TWPro.twpro_jobValues.guard.glueck = 38;
  TWPro.twpro_jobValues.guard.gefahr = 4;
  TWPro.twpro_jobValues.bible = new Object();
  TWPro.twpro_jobValues.bible.erfahrung = 61;
  TWPro.twpro_jobValues.bible.lohn = 5;
  TWPro.twpro_jobValues.bible.glueck = 52;
  TWPro.twpro_jobValues.bible.gefahr = 77;
  TWPro.twpro_jobValues.ponyexpress = new Object();
  TWPro.twpro_jobValues.ponyexpress.erfahrung = 48;
  TWPro.twpro_jobValues.ponyexpress.lohn = 15;
  TWPro.twpro_jobValues.ponyexpress.glueck = 51;
  TWPro.twpro_jobValues.ponyexpress.gefahr = 44;
  TWPro.twpro_jobValues.weapons = new Object();
  TWPro.twpro_jobValues.weapons.erfahrung = 35;
  TWPro.twpro_jobValues.weapons.lohn = 15;
  TWPro.twpro_jobValues.weapons.glueck = 72;
  TWPro.twpro_jobValues.weapons.gefahr = 82;
  TWPro.twpro_jobValues.dead = new Object();
  TWPro.twpro_jobValues.dead.erfahrung = 14;
  TWPro.twpro_jobValues.dead.lohn = 14;
  TWPro.twpro_jobValues.dead.glueck = 90;
  TWPro.twpro_jobValues.dead.gefahr = 34;
  TWPro.twpro_jobValues.grizzly = new Object();
  TWPro.twpro_jobValues.grizzly.erfahrung = 78;
  TWPro.twpro_jobValues.grizzly.lohn = 25;
  TWPro.twpro_jobValues.grizzly.glueck = 35;
  TWPro.twpro_jobValues.grizzly.gefahr = 71;
  TWPro.twpro_jobValues.oil = new Object();
  TWPro.twpro_jobValues.oil.erfahrung = 25;
  TWPro.twpro_jobValues.oil.lohn = 83;
  TWPro.twpro_jobValues.oil.glueck = 20;
  TWPro.twpro_jobValues.oil.gefahr = 7;
  TWPro.twpro_jobValues.treasure_hunting = new Object();
  TWPro.twpro_jobValues.treasure_hunting.erfahrung = 20;
  TWPro.twpro_jobValues.treasure_hunting.lohn = 20;
  TWPro.twpro_jobValues.treasure_hunting.glueck = 83;
  TWPro.twpro_jobValues.treasure_hunting.gefahr = 24;
  TWPro.twpro_jobValues.army = new Object();
  TWPro.twpro_jobValues.army.erfahrung = 76;
  TWPro.twpro_jobValues.army.lohn = 55;
  TWPro.twpro_jobValues.army.glueck = 17;
  TWPro.twpro_jobValues.army.gefahr = 35;
  TWPro.twpro_jobValues.steal = new Object();
  TWPro.twpro_jobValues.steal.erfahrung = 50;
  TWPro.twpro_jobValues.steal.lohn = 48;
  TWPro.twpro_jobValues.steal.glueck = 74;
  TWPro.twpro_jobValues.steal.gefahr = 66;
  TWPro.twpro_jobValues.mercenary = new Object();
  TWPro.twpro_jobValues.mercenary.erfahrung = 52;
  TWPro.twpro_jobValues.mercenary.lohn = 92;
  TWPro.twpro_jobValues.mercenary.glueck = 23;
  TWPro.twpro_jobValues.mercenary.gefahr = 65;
  TWPro.twpro_jobValues.bandits = new Object();
  TWPro.twpro_jobValues.bandits.erfahrung = 75;
  TWPro.twpro_jobValues.bandits.lohn = 28;
  TWPro.twpro_jobValues.bandits.glueck = 85;
  TWPro.twpro_jobValues.bandits.gefahr = 83;
  TWPro.twpro_jobValues.aggression = new Object();
  TWPro.twpro_jobValues.aggression.erfahrung = 27;
  TWPro.twpro_jobValues.aggression.lohn = 78;
  TWPro.twpro_jobValues.aggression.glueck = 78;
  TWPro.twpro_jobValues.aggression.gefahr = 86;
  TWPro.twpro_jobValues.diligence_aggression = new Object();
  TWPro.twpro_jobValues.diligence_aggression.erfahrung = 73;
  TWPro.twpro_jobValues.diligence_aggression.lohn = 43;
  TWPro.twpro_jobValues.diligence_aggression.glueck = 95;
  TWPro.twpro_jobValues.diligence_aggression.gefahr = 67;
  TWPro.twpro_jobValues.bounty = new Object();
  TWPro.twpro_jobValues.bounty.erfahrung = 32;
  TWPro.twpro_jobValues.bounty.lohn = 92;
  TWPro.twpro_jobValues.bounty.glueck = 79;
  TWPro.twpro_jobValues.bounty.gefahr = 72;
  TWPro.twpro_jobValues.captured = new Object();
  TWPro.twpro_jobValues.captured.erfahrung = 69;
  TWPro.twpro_jobValues.captured.lohn = 23;
  TWPro.twpro_jobValues.captured.glueck = 85;
  TWPro.twpro_jobValues.captured.gefahr = 44;
  TWPro.twpro_jobValues.train = new Object();
  TWPro.twpro_jobValues.train.erfahrung = 87;
  TWPro.twpro_jobValues.train.lohn = 67;
  TWPro.twpro_jobValues.train.glueck = 92;
  TWPro.twpro_jobValues.train.gefahr = 96;
  TWPro.twpro_jobValues.burglary = new Object();
  TWPro.twpro_jobValues.burglary.erfahrung = 34;
  TWPro.twpro_jobValues.burglary.lohn = 80;
  TWPro.twpro_jobValues.burglary.glueck = 81;
  TWPro.twpro_jobValues.burglary.gefahr = 26;
  TWPro.twpro_jobValues.quackery = new Object();
  TWPro.twpro_jobValues.quackery.erfahrung = 50;
  TWPro.twpro_jobValues.quackery.lohn = 65;
  TWPro.twpro_jobValues.quackery.glueck = 52;
  TWPro.twpro_jobValues.quackery.gefahr = 67;
  TWPro.twpro_jobValues.peace = new Object();
  TWPro.twpro_jobValues.peace.erfahrung = 68;
  TWPro.twpro_jobValues.peace.lohn = 33;
  TWPro.twpro_jobValues.peace.glueck = 76;
  TWPro.twpro_jobValues.peace.gefahr = 44;
  TWPro.twpro_jobValues.ship = new Object();
  TWPro.twpro_jobValues.ship.erfahrung = 35;
  TWPro.twpro_jobValues.ship.lohn = 82;
  TWPro.twpro_jobValues.ship.glueck = 15;
  TWPro.twpro_jobValues.ship.gefahr = 14;
  TWPro.twpro_jobValues.smuggle = new Object();
  TWPro.twpro_jobValues.smuggle.erfahrung = 45;
  TWPro.twpro_jobValues.smuggle.lohn = 62;
  TWPro.twpro_jobValues.smuggle.glueck = 83;
  TWPro.twpro_jobValues.smuggle.gefahr = 56;
  TWPro.twpro_jobValues.ranch = new Object();
  TWPro.twpro_jobValues.ranch.erfahrung = 61;
  TWPro.twpro_jobValues.ranch.lohn = 28;
  TWPro.twpro_jobValues.ranch.glueck = 17;
  TWPro.twpro_jobValues.ranch.gefahr = 24;
  TWPro.twpro_jobValues.iron = new Object();
  TWPro.twpro_jobValues.iron.erfahrung = 32;
  TWPro.twpro_jobValues.iron.lohn = 52;
  TWPro.twpro_jobValues.iron.glueck = 15;
  TWPro.twpro_jobValues.iron.gefahr = 29;
  TWPro.twpro_jobValues.agave = new Object();
  TWPro.twpro_jobValues.agave.erfahrung = 42;
  TWPro.twpro_jobValues.agave.lohn = 25;
  TWPro.twpro_jobValues.agave.glueck = 12;
  TWPro.twpro_jobValues.agave.gefahr = 27;
  TWPro.twpro_jobValues.tomato = new Object();
  TWPro.twpro_jobValues.tomato.erfahrung = 12;
  TWPro.twpro_jobValues.tomato.lohn = 13;
  TWPro.twpro_jobValues.tomato.glueck = 7;
  TWPro.twpro_jobValues.tomato.gefahr = 11;
  TWPro.twpro_jobValues.horseshoe = new Object();
  TWPro.twpro_jobValues.horseshoe.erfahrung = 28;
  TWPro.twpro_jobValues.horseshoe.lohn = 14;
  TWPro.twpro_jobValues.horseshoe.glueck = 9;
  TWPro.twpro_jobValues.horseshoe.gefahr = 23;
  TWPro.twpro_jobValues.fire = new Object();
  TWPro.twpro_jobValues.fire.erfahrung = 41;
  TWPro.twpro_jobValues.fire.lohn = 15;
  TWPro.twpro_jobValues.fire.glueck = 65;
  TWPro.twpro_jobValues.fire.gefahr = 45;
  TWPro.twpro_jobValues.orange = new Object();
  TWPro.twpro_jobValues.orange.erfahrung = 25;
  TWPro.twpro_jobValues.orange.lohn = 14;
  TWPro.twpro_jobValues.orange.glueck = 10;
  TWPro.twpro_jobValues.orange.gefahr = 21;
  TWPro.twpro_jobValues.muck_out = new Object();
  TWPro.twpro_jobValues.muck_out.erfahrung = 5;
  TWPro.twpro_jobValues.muck_out.lohn = 4;
  TWPro.twpro_jobValues.muck_out.glueck = 2;
  TWPro.twpro_jobValues.muck_out.gefahr = 6;
  TWPro.twpro_jobValues.shoes = new Object();
  TWPro.twpro_jobValues.shoes.erfahrung = 2;
  TWPro.twpro_jobValues.shoes.lohn = 3;
  TWPro.twpro_jobValues.shoes.glueck = 3;
  TWPro.twpro_jobValues.shoes.gefahr = 2;
  TWPro.twpro_jobValues.construct = new Object();
  TWPro.twpro_jobValues.construct.erfahrung = 0;
  TWPro.twpro_jobValues.construct.lohn = 0;
  TWPro.twpro_jobValues.construct.glueck = 0;
  TWPro.twpro_jobValues.construct.gefahr = 0;
  TWPro.twpro_setBonusParsed = false;
  TWPro.twpro_setBonus = new Object();
  TWPro.twpro_setBonus.set_farmer = new Array();
  TWPro.twpro_setBonus.set_farmer[2] = new Object();
  TWPro.twpro_setBonus.set_farmer[2].bonus = new Object();
  TWPro.twpro_setBonus.set_farmer[2].bonus.attributes = new Object();
  TWPro.twpro_setBonus.set_farmer[2].bonus.attributes.strength = 1;
  TWPro.twpro_setBonus.set_farmer[2].bonus.attributes.flexibility = 1;
  TWPro.twpro_setBonus.set_farmer[2].bonus.skills = new Object();
  TWPro.twpro_setBonus.set_farmer[2].jobBonus = new Object();
  TWPro.twpro_setBonus.set_farmer[2].jobBonus.all = 0;
  TWPro.twpro_setBonus.set_farmer[2].jobBonus.cereal = 10;
  TWPro.twpro_setBonus.set_farmer[2].jobBonus.cut = 10;
  TWPro.twpro_setBonus.set_farmer[2].jobBonus.grinding = 10;
  TWPro.twpro_setBonus.set_farmer[2].speedBonus = 0;
  TWPro.twpro_setBonus.set_farmer[2].parsedBonus = new Object();
  TWPro.twpro_setBonus.set_farmer[3] = new Object();
  TWPro.twpro_setBonus.set_farmer[3].bonus = new Object();
  TWPro.twpro_setBonus.set_farmer[3].bonus.attributes = new Object();
  TWPro.twpro_setBonus.set_farmer[3].bonus.attributes.strength = 1;
  TWPro.twpro_setBonus.set_farmer[3].bonus.attributes.flexibility = 1;
  TWPro.twpro_setBonus.set_farmer[3].bonus.attributes.dexterity = 1;
  TWPro.twpro_setBonus.set_farmer[3].bonus.attributes.charisma = 1;
  TWPro.twpro_setBonus.set_farmer[3].bonus.skills = new Object();
  TWPro.twpro_setBonus.set_farmer[3].jobBonus = new Object();
  TWPro.twpro_setBonus.set_farmer[3].jobBonus.all = 0;
  TWPro.twpro_setBonus.set_farmer[3].jobBonus.cereal = 10;
  TWPro.twpro_setBonus.set_farmer[3].jobBonus.cut = 10;
  TWPro.twpro_setBonus.set_farmer[3].jobBonus.grinding = 10;
  TWPro.twpro_setBonus.set_farmer[3].jobBonus.cow = 20;
  TWPro.twpro_setBonus.set_farmer[3].jobBonus.wire = 20;
  TWPro.twpro_setBonus.set_farmer[3].jobBonus.horseshoe = 20;
  TWPro.twpro_setBonus.set_farmer[3].speedBonus = 0;
  TWPro.twpro_setBonus.set_farmer[3].parsedBonus = new Object();
  TWPro.twpro_setBonus.set_farmer[4] = new Object();
  TWPro.twpro_setBonus.set_farmer[4].bonus = new Object();
  TWPro.twpro_setBonus.set_farmer[4].bonus.attributes = new Object();
  TWPro.twpro_setBonus.set_farmer[4].bonus.attributes.strength = 2;
  TWPro.twpro_setBonus.set_farmer[4].bonus.attributes.flexibility = 2;
  TWPro.twpro_setBonus.set_farmer[4].bonus.attributes.dexterity = 2;
  TWPro.twpro_setBonus.set_farmer[4].bonus.attributes.charisma = 2;
  TWPro.twpro_setBonus.set_farmer[4].bonus.skills = new Object();
  TWPro.twpro_setBonus.set_farmer[4].jobBonus = new Object();
  TWPro.twpro_setBonus.set_farmer[4].jobBonus.all = 0;
  TWPro.twpro_setBonus.set_farmer[4].jobBonus.cereal = 10;
  TWPro.twpro_setBonus.set_farmer[4].jobBonus.cut = 10;
  TWPro.twpro_setBonus.set_farmer[4].jobBonus.grinding = 10;
  TWPro.twpro_setBonus.set_farmer[4].jobBonus.cow = 20;
  TWPro.twpro_setBonus.set_farmer[4].jobBonus.wire = 20;
  TWPro.twpro_setBonus.set_farmer[4].jobBonus.windmeel = 40;
  TWPro.twpro_setBonus.set_farmer[4].jobBonus.springe = 40;
  TWPro.twpro_setBonus.set_farmer[4].jobBonus.ranch = 40;
  TWPro.twpro_setBonus.set_farmer[4].jobBonus.horseshoe = 20;
  TWPro.twpro_setBonus.set_farmer[4].speedBonus = 0;
  TWPro.twpro_setBonus.set_farmer[4].parsedBonus = new Object();
  TWPro.twpro_setBonus.set_indian = new Array();
  TWPro.twpro_setBonus.set_indian[2] = new Object();
  TWPro.twpro_setBonus.set_indian[2].bonus = new Object();
  TWPro.twpro_setBonus.set_indian[2].bonus.attributes = new Object();
  TWPro.twpro_setBonus.set_indian[2].bonus.attributes.flexibility = 2;
  TWPro.twpro_setBonus.set_indian[2].bonus.skills = new Object();
  TWPro.twpro_setBonus.set_indian[2].bonus.skills.hide = 8;
  TWPro.twpro_setBonus.set_indian[2].jobBonus = new Object();
  TWPro.twpro_setBonus.set_indian[2].jobBonus.all = 0;
  TWPro.twpro_setBonus.set_indian[2].jobBonus.coyote = 30;
  TWPro.twpro_setBonus.set_indian[2].speedBonus = 15;
  TWPro.twpro_setBonus.set_indian[2].parsedBonus = new Object();
  TWPro.twpro_setBonus.set_indian[3] = new Object();
  TWPro.twpro_setBonus.set_indian[3].bonus = new Object();
  TWPro.twpro_setBonus.set_indian[3].bonus.attributes = new Object();
  TWPro.twpro_setBonus.set_indian[3].bonus.attributes.flexibility = 5;
  TWPro.twpro_setBonus.set_indian[3].bonus.skills = new Object();
  TWPro.twpro_setBonus.set_indian[3].bonus.skills.hide = 8;
  TWPro.twpro_setBonus.set_indian[3].bonus.skills.swim = 8;
  TWPro.twpro_setBonus.set_indian[3].jobBonus = new Object();
  TWPro.twpro_setBonus.set_indian[3].jobBonus.all = 0;
  TWPro.twpro_setBonus.set_indian[3].jobBonus.coyote = 30;
  TWPro.twpro_setBonus.set_indian[3].jobBonus.buffalo = 40;
  TWPro.twpro_setBonus.set_indian[3].speedBonus = 30;
  TWPro.twpro_setBonus.set_indian[3].parsedBonus = new Object();
  TWPro.twpro_setBonus.set_indian[4] = new Object();
  TWPro.twpro_setBonus.set_indian[4].bonus = new Object();
  TWPro.twpro_setBonus.set_indian[4].bonus.attributes = new Object();
  TWPro.twpro_setBonus.set_indian[4].bonus.attributes.flexibility = 8;
  TWPro.twpro_setBonus.set_indian[4].bonus.skills = new Object();
  TWPro.twpro_setBonus.set_indian[4].bonus.skills.hide = 8;
  TWPro.twpro_setBonus.set_indian[4].bonus.skills.swim = 8;
  TWPro.twpro_setBonus.set_indian[4].bonus.skills.pitfall = 8;
  TWPro.twpro_setBonus.set_indian[4].jobBonus = new Object();
  TWPro.twpro_setBonus.set_indian[4].jobBonus.all = 0;
  TWPro.twpro_setBonus.set_indian[4].jobBonus.coyote = 30;
  TWPro.twpro_setBonus.set_indian[4].jobBonus.buffalo = 40;
  TWPro.twpro_setBonus.set_indian[4].jobBonus.wolf = 50;
  TWPro.twpro_setBonus.set_indian[4].speedBonus = 44;
  TWPro.twpro_setBonus.set_indian[4].parsedBonus = new Object();
  TWPro.twpro_setBonus.set_indian[5] = new Object();
  TWPro.twpro_setBonus.set_indian[5].bonus = new Object();
  TWPro.twpro_setBonus.set_indian[5].bonus.attributes = new Object();
  TWPro.twpro_setBonus.set_indian[5].bonus.attributes.flexibility = 12;
  TWPro.twpro_setBonus.set_indian[5].bonus.skills = new Object();
  TWPro.twpro_setBonus.set_indian[5].bonus.skills.hide = 8;
  TWPro.twpro_setBonus.set_indian[5].bonus.skills.swim = 8;
  TWPro.twpro_setBonus.set_indian[5].bonus.skills.pitfall = 8;
  TWPro.twpro_setBonus.set_indian[5].bonus.skills.animal = 8;
  TWPro.twpro_setBonus.set_indian[5].jobBonus = new Object();
  TWPro.twpro_setBonus.set_indian[5].jobBonus.all = 0;
  TWPro.twpro_setBonus.set_indian[5].jobBonus.coyote = 30;
  TWPro.twpro_setBonus.set_indian[5].jobBonus.buffalo = 40;
  TWPro.twpro_setBonus.set_indian[5].jobBonus.wolf = 50;
  TWPro.twpro_setBonus.set_indian[5].jobBonus.grizzly = 60;
  TWPro.twpro_setBonus.set_indian[5].speedBonus = 60;
  TWPro.twpro_setBonus.set_indian[5].parsedBonus = new Object();
  TWPro.twpro_setBonus.set_mexican = new Array();
  TWPro.twpro_setBonus.set_mexican[2] = new Object();
  TWPro.twpro_setBonus.set_mexican[2].bonus = new Object();
  TWPro.twpro_setBonus.set_mexican[2].bonus.attributes = new Object();
  TWPro.twpro_setBonus.set_mexican[2].bonus.attributes.strength = 1;
  TWPro.twpro_setBonus.set_mexican[2].bonus.skills = new Object();
  TWPro.twpro_setBonus.set_mexican[2].jobBonus = new Object();
  TWPro.twpro_setBonus.set_mexican[2].jobBonus.all = 0;
  TWPro.twpro_setBonus.set_mexican[2].speedBonus = 12;
  TWPro.twpro_setBonus.set_mexican[2].parsedBonus = new Object();
  TWPro.twpro_setBonus.set_mexican[3] = new Object();
  TWPro.twpro_setBonus.set_mexican[3].bonus = new Object();
  TWPro.twpro_setBonus.set_mexican[3].bonus.attributes = new Object();
  TWPro.twpro_setBonus.set_mexican[3].bonus.attributes.strength = 2;
  TWPro.twpro_setBonus.set_mexican[3].bonus.skills = new Object();
  TWPro.twpro_setBonus.set_mexican[3].jobBonus = new Object();
  TWPro.twpro_setBonus.set_mexican[3].jobBonus.all = 0;
  TWPro.twpro_setBonus.set_mexican[3].jobBonus.agave = 60;
  TWPro.twpro_setBonus.set_mexican[3].speedBonus = 24;
  TWPro.twpro_setBonus.set_mexican[3].parsedBonus = new Object();
  TWPro.twpro_setBonus.set_mexican[4] = new Object();
  TWPro.twpro_setBonus.set_mexican[4].bonus = new Object();
  TWPro.twpro_setBonus.set_mexican[4].bonus.attributes = new Object();
  TWPro.twpro_setBonus.set_mexican[4].bonus.attributes.strength = 4;
  TWPro.twpro_setBonus.set_mexican[4].bonus.skills = new Object();
  TWPro.twpro_setBonus.set_mexican[4].jobBonus = new Object();
  TWPro.twpro_setBonus.set_mexican[4].jobBonus.all = 0;
  TWPro.twpro_setBonus.set_mexican[4].jobBonus.oil = 70;
  TWPro.twpro_setBonus.set_mexican[4].jobBonus.agave = 60;
  TWPro.twpro_setBonus.set_mexican[4].speedBonus = 36;
  TWPro.twpro_setBonus.set_mexican[4].parsedBonus = new Object();
  TWPro.twpro_setBonus.set_mexican[5] = new Object();
  TWPro.twpro_setBonus.set_mexican[5].bonus = new Object();
  TWPro.twpro_setBonus.set_mexican[5].bonus.attributes = new Object();
  TWPro.twpro_setBonus.set_mexican[5].bonus.attributes.strength = 6;
  TWPro.twpro_setBonus.set_mexican[5].bonus.skills = new Object();
  TWPro.twpro_setBonus.set_mexican[5].jobBonus = new Object();
  TWPro.twpro_setBonus.set_mexican[5].jobBonus.all = 0;
  TWPro.twpro_setBonus.set_mexican[5].jobBonus.oil = 70;
  TWPro.twpro_setBonus.set_mexican[5].jobBonus.smuggle = 80;
  TWPro.twpro_setBonus.set_mexican[5].jobBonus.agave = 60;
  TWPro.twpro_setBonus.set_mexican[5].speedBonus = 48;
  TWPro.twpro_setBonus.set_mexican[5].parsedBonus = new Object();
  TWPro.twpro_setBonus.set_mexican[6] = new Object();
  TWPro.twpro_setBonus.set_mexican[6].bonus = new Object();
  TWPro.twpro_setBonus.set_mexican[6].bonus.attributes = new Object();
  TWPro.twpro_setBonus.set_mexican[6].bonus.attributes.strength = 9;
  TWPro.twpro_setBonus.set_mexican[6].bonus.skills = new Object();
  TWPro.twpro_setBonus.set_mexican[6].jobBonus = new Object();
  TWPro.twpro_setBonus.set_mexican[6].jobBonus.all = 0;
  TWPro.twpro_setBonus.set_mexican[6].jobBonus.dynamite = 90;
  TWPro.twpro_setBonus.set_mexican[6].jobBonus.oil = 70;
  TWPro.twpro_setBonus.set_mexican[6].jobBonus.smuggle = 80;
  TWPro.twpro_setBonus.set_mexican[6].jobBonus.agave = 60;
  TWPro.twpro_setBonus.set_mexican[6].speedBonus = 60;
  TWPro.twpro_setBonus.set_mexican[6].parsedBonus = new Object();
  TWPro.twpro_setBonus.set_pilgrim_male = new Array();
  TWPro.twpro_setBonus.set_pilgrim_male[2] = new Object();
  TWPro.twpro_setBonus.set_pilgrim_male[2].bonus = new Object();
  TWPro.twpro_setBonus.set_pilgrim_male[2].bonus.attributes = new Object();
  TWPro.twpro_setBonus.set_pilgrim_male[2].bonus.skills = new Object();
  TWPro.twpro_setBonus.set_pilgrim_male[2].jobBonus = new Object();
  TWPro.twpro_setBonus.set_pilgrim_male[2].jobBonus.all = 0;
  TWPro.twpro_setBonus.set_pilgrim_male[2].jobBonus.construct = 5;
  TWPro.twpro_setBonus.set_pilgrim_male[2].speedBonus = 0;
  TWPro.twpro_setBonus.set_pilgrim_male[2].parsedBonus = new Object();
  TWPro.twpro_setBonus.set_pilgrim_male[3] = new Object();
  TWPro.twpro_setBonus.set_pilgrim_male[3].bonus = new Object();
  TWPro.twpro_setBonus.set_pilgrim_male[3].bonus.attributes = new Object();
  TWPro.twpro_setBonus.set_pilgrim_male[3].bonus.skills = new Object();
  TWPro.twpro_setBonus.set_pilgrim_male[3].jobBonus = new Object();
  TWPro.twpro_setBonus.set_pilgrim_male[3].jobBonus.all = 0;
  TWPro.twpro_setBonus.set_pilgrim_male[3].jobBonus.construct = 15;
  TWPro.twpro_setBonus.set_pilgrim_male[3].speedBonus = 0;
  TWPro.twpro_setBonus.set_pilgrim_male[3].parsedBonus = new Object();
  TWPro.twpro_setBonus.set_pilgrim_male[4] = new Object();
  TWPro.twpro_setBonus.set_pilgrim_male[4].bonus = new Object();
  TWPro.twpro_setBonus.set_pilgrim_male[4].bonus.attributes = new Object();
  TWPro.twpro_setBonus.set_pilgrim_male[4].bonus.skills = new Object();
  TWPro.twpro_setBonus.set_pilgrim_male[4].jobBonus = new Object();
  TWPro.twpro_setBonus.set_pilgrim_male[4].jobBonus.all = 0;
  TWPro.twpro_setBonus.set_pilgrim_male[4].jobBonus.construct = 30;
  TWPro.twpro_setBonus.set_pilgrim_male[4].speedBonus = 0;
  TWPro.twpro_setBonus.set_pilgrim_male[4].parsedBonus = new Object();
  TWPro.twpro_setBonus.set_pilgrim_male[5] = new Object();
  TWPro.twpro_setBonus.set_pilgrim_male[5].bonus = new Object();
  TWPro.twpro_setBonus.set_pilgrim_male[5].bonus.attributes = new Object();
  TWPro.twpro_setBonus.set_pilgrim_male[5].bonus.skills = new Object();
  TWPro.twpro_setBonus.set_pilgrim_male[5].jobBonus = new Object();
  TWPro.twpro_setBonus.set_pilgrim_male[5].jobBonus.all = 0;
  TWPro.twpro_setBonus.set_pilgrim_male[5].jobBonus.bible = 150;
  TWPro.twpro_setBonus.set_pilgrim_male[5].jobBonus.construct = 50;
  TWPro.twpro_setBonus.set_pilgrim_male[5].speedBonus = 0;
  TWPro.twpro_setBonus.set_pilgrim_male[5].parsedBonus = new Object();
  TWPro.twpro_setBonus.set_pilgrim_female = new Array();
  TWPro.twpro_setBonus.set_pilgrim_female[2] = new Object();
  TWPro.twpro_setBonus.set_pilgrim_female[2].bonus = new Object();
  TWPro.twpro_setBonus.set_pilgrim_female[2].bonus.attributes = new Object();
  TWPro.twpro_setBonus.set_pilgrim_female[2].bonus.skills = new Object();
  TWPro.twpro_setBonus.set_pilgrim_female[2].jobBonus = new Object();
  TWPro.twpro_setBonus.set_pilgrim_female[2].jobBonus.all = 0;
  TWPro.twpro_setBonus.set_pilgrim_female[2].jobBonus.construct = 5;
  TWPro.twpro_setBonus.set_pilgrim_female[2].speedBonus = 0;
  TWPro.twpro_setBonus.set_pilgrim_female[2].parsedBonus = new Object();
  TWPro.twpro_setBonus.set_pilgrim_female[3] = new Object();
  TWPro.twpro_setBonus.set_pilgrim_female[3].bonus = new Object();
  TWPro.twpro_setBonus.set_pilgrim_female[3].bonus.attributes = new Object();
  TWPro.twpro_setBonus.set_pilgrim_female[3].bonus.skills = new Object();
  TWPro.twpro_setBonus.set_pilgrim_female[3].jobBonus = new Object();
  TWPro.twpro_setBonus.set_pilgrim_female[3].jobBonus.all = 0;
  TWPro.twpro_setBonus.set_pilgrim_female[3].jobBonus.construct = 15;
  TWPro.twpro_setBonus.set_pilgrim_female[3].speedBonus = 0;
  TWPro.twpro_setBonus.set_pilgrim_female[3].parsedBonus = new Object();
  TWPro.twpro_setBonus.set_pilgrim_female[4] = new Object();
  TWPro.twpro_setBonus.set_pilgrim_female[4].bonus = new Object();
  TWPro.twpro_setBonus.set_pilgrim_female[4].bonus.attributes = new Object();
  TWPro.twpro_setBonus.set_pilgrim_female[4].bonus.skills = new Object();
  TWPro.twpro_setBonus.set_pilgrim_female[4].jobBonus = new Object();
  TWPro.twpro_setBonus.set_pilgrim_female[4].jobBonus.all = 0;
  TWPro.twpro_setBonus.set_pilgrim_female[4].jobBonus.construct = 30;
  TWPro.twpro_setBonus.set_pilgrim_female[4].speedBonus = 0;
  TWPro.twpro_setBonus.set_pilgrim_female[4].parsedBonus = new Object();
  TWPro.twpro_setBonus.set_pilgrim_female[5] = new Object();
  TWPro.twpro_setBonus.set_pilgrim_female[5].bonus = new Object();
  TWPro.twpro_setBonus.set_pilgrim_female[5].bonus.attributes = new Object();
  TWPro.twpro_setBonus.set_pilgrim_female[5].bonus.skills = new Object();
  TWPro.twpro_setBonus.set_pilgrim_female[5].jobBonus = new Object();
  TWPro.twpro_setBonus.set_pilgrim_female[5].jobBonus.all = 0;
  TWPro.twpro_setBonus.set_pilgrim_female[5].jobBonus.bible = 150;
  TWPro.twpro_setBonus.set_pilgrim_female[5].jobBonus.construct = 50;
  TWPro.twpro_setBonus.set_pilgrim_female[5].speedBonus = 0;
  TWPro.twpro_setBonus.set_pilgrim_female[5].parsedBonus = new Object();
  TWPro.twpro_setBonus.set_quackery = new Array();
  TWPro.twpro_setBonus.set_quackery[2] = new Object();
  TWPro.twpro_setBonus.set_quackery[2].bonus = new Object();
  TWPro.twpro_setBonus.set_quackery[2].bonus.attributes = new Object();
  TWPro.twpro_setBonus.set_quackery[2].bonus.attributes.dexterity = 1;
  TWPro.twpro_setBonus.set_quackery[2].bonus.skills = new Object();
  TWPro.twpro_setBonus.set_quackery[2].bonus.skills.endurance = 5;
  TWPro.twpro_setBonus.set_quackery[2].bonus.skills.trade = 5;
  TWPro.twpro_setBonus.set_quackery[2].jobBonus = new Object();
  TWPro.twpro_setBonus.set_quackery[2].jobBonus.all = 0;
  TWPro.twpro_setBonus.set_quackery[2].jobBonus.quackery = 30;
  TWPro.twpro_setBonus.set_quackery[2].speedBonus = 0;
  TWPro.twpro_setBonus.set_quackery[2].parsedBonus = new Object();
  TWPro.twpro_setBonus.set_quackery[3] = new Object();
  TWPro.twpro_setBonus.set_quackery[3].bonus = new Object();
  TWPro.twpro_setBonus.set_quackery[3].bonus.attributes = new Object();
  TWPro.twpro_setBonus.set_quackery[3].bonus.attributes.dexterity = 2;
  TWPro.twpro_setBonus.set_quackery[3].bonus.skills = new Object();
  TWPro.twpro_setBonus.set_quackery[3].bonus.skills.endurance = 10;
  TWPro.twpro_setBonus.set_quackery[3].bonus.skills.trade = 10;
  TWPro.twpro_setBonus.set_quackery[3].jobBonus = new Object();
  TWPro.twpro_setBonus.set_quackery[3].jobBonus.all = 0;
  TWPro.twpro_setBonus.set_quackery[3].jobBonus.quackery = 60;
  TWPro.twpro_setBonus.set_quackery[3].speedBonus = 0;
  TWPro.twpro_setBonus.set_quackery[3].parsedBonus = new Object();
  TWPro.twpro_setBonus.set_quackery[4] = new Object();
  TWPro.twpro_setBonus.set_quackery[4].bonus = new Object();
  TWPro.twpro_setBonus.set_quackery[4].bonus.attributes = new Object();
  TWPro.twpro_setBonus.set_quackery[4].bonus.attributes.dexterity = 4;
  TWPro.twpro_setBonus.set_quackery[4].bonus.skills = new Object();
  TWPro.twpro_setBonus.set_quackery[4].bonus.skills.endurance = 15;
  TWPro.twpro_setBonus.set_quackery[4].bonus.skills.trade = 15;
  TWPro.twpro_setBonus.set_quackery[4].jobBonus = new Object();
  TWPro.twpro_setBonus.set_quackery[4].jobBonus.all = 0;
  TWPro.twpro_setBonus.set_quackery[4].jobBonus.quackery = 90;
  TWPro.twpro_setBonus.set_quackery[4].speedBonus = 0;
  TWPro.twpro_setBonus.set_quackery[4].parsedBonus = new Object();
  TWPro.twpro_setBonus.set_quackery[5] = new Object();
  TWPro.twpro_setBonus.set_quackery[5].bonus = new Object();
  TWPro.twpro_setBonus.set_quackery[5].bonus.attributes = new Object();
  TWPro.twpro_setBonus.set_quackery[5].bonus.attributes.dexterity = 6;
  TWPro.twpro_setBonus.set_quackery[5].bonus.skills = new Object();
  TWPro.twpro_setBonus.set_quackery[5].bonus.skills.endurance = 20;
  TWPro.twpro_setBonus.set_quackery[5].bonus.skills.trade = 20;
  TWPro.twpro_setBonus.set_quackery[5].jobBonus = new Object();
  TWPro.twpro_setBonus.set_quackery[5].jobBonus.all = 0;
  TWPro.twpro_setBonus.set_quackery[5].jobBonus.quackery = 120;
  TWPro.twpro_setBonus.set_quackery[5].speedBonus = 0;
  TWPro.twpro_setBonus.set_quackery[5].parsedBonus = new Object();
  TWPro.twpro_setBonus.set_quackery[6] = new Object();
  TWPro.twpro_setBonus.set_quackery[6].bonus = new Object();
  TWPro.twpro_setBonus.set_quackery[6].bonus.attributes = new Object();
  TWPro.twpro_setBonus.set_quackery[6].bonus.attributes.dexterity = 9;
  TWPro.twpro_setBonus.set_quackery[6].bonus.skills = new Object();
  TWPro.twpro_setBonus.set_quackery[6].bonus.skills.tough = 18;
  TWPro.twpro_setBonus.set_quackery[6].bonus.skills.endurance = 20;
  TWPro.twpro_setBonus.set_quackery[6].bonus.skills.reflex = 18;
  TWPro.twpro_setBonus.set_quackery[6].bonus.skills.aim = 18;
  TWPro.twpro_setBonus.set_quackery[6].bonus.skills.shot = 18;
  TWPro.twpro_setBonus.set_quackery[6].bonus.skills.trade = 20;
  TWPro.twpro_setBonus.set_quackery[6].jobBonus = new Object();
  TWPro.twpro_setBonus.set_quackery[6].jobBonus.all = 0;
  TWPro.twpro_setBonus.set_quackery[6].jobBonus.quackery = 120;
  TWPro.twpro_setBonus.set_quackery[6].speedBonus = 0;
  TWPro.twpro_setBonus.set_quackery[6].parsedBonus = new Object();
  TWPro.twpro_setBonus.set_dancer = new Array();
  TWPro.twpro_setBonus.set_dancer[2] = new Object();
  TWPro.twpro_setBonus.set_dancer[2].bonus = new Object();
  TWPro.twpro_setBonus.set_dancer[2].bonus.attributes = new Object();
  TWPro.twpro_setBonus.set_dancer[2].bonus.attributes.charisma = 2;
  TWPro.twpro_setBonus.set_dancer[2].bonus.skills = new Object();
  TWPro.twpro_setBonus.set_dancer[2].bonus.skills.appearance = 10;
  TWPro.twpro_setBonus.set_dancer[2].jobBonus = new Object();
  TWPro.twpro_setBonus.set_dancer[2].jobBonus.all = 10;
  TWPro.twpro_setBonus.set_dancer[2].speedBonus = 0;
  TWPro.twpro_setBonus.set_dancer[2].parsedBonus = new Object();
  TWPro.twpro_setBonus.set_dancer[3] = new Object();
  TWPro.twpro_setBonus.set_dancer[3].bonus = new Object();
  TWPro.twpro_setBonus.set_dancer[3].bonus.attributes = new Object();
  TWPro.twpro_setBonus.set_dancer[3].bonus.attributes.charisma = 5;
  TWPro.twpro_setBonus.set_dancer[3].bonus.skills = new Object();
  TWPro.twpro_setBonus.set_dancer[3].bonus.skills.animal = 10;
  TWPro.twpro_setBonus.set_dancer[3].bonus.skills.appearance = 10;
  TWPro.twpro_setBonus.set_dancer[3].jobBonus = new Object();
  TWPro.twpro_setBonus.set_dancer[3].jobBonus.all = 25;
  TWPro.twpro_setBonus.set_dancer[3].speedBonus = 0;
  TWPro.twpro_setBonus.set_dancer[3].parsedBonus = new Object();
  TWPro.twpro_setBonus.set_dancer[4] = new Object();
  TWPro.twpro_setBonus.set_dancer[4].bonus = new Object();
  TWPro.twpro_setBonus.set_dancer[4].bonus.attributes = new Object();
  TWPro.twpro_setBonus.set_dancer[4].bonus.attributes.charisma = 9;
  TWPro.twpro_setBonus.set_dancer[4].bonus.skills = new Object();
  TWPro.twpro_setBonus.set_dancer[4].bonus.skills.finger_dexterity = 10;
  TWPro.twpro_setBonus.set_dancer[4].bonus.skills.animal = 10;
  TWPro.twpro_setBonus.set_dancer[4].bonus.skills.appearance = 10;
  TWPro.twpro_setBonus.set_dancer[4].jobBonus = new Object();
  TWPro.twpro_setBonus.set_dancer[4].jobBonus.all = 45;
  TWPro.twpro_setBonus.set_dancer[4].speedBonus = 0;
  TWPro.twpro_setBonus.set_dancer[4].parsedBonus = new Object();
  TWPro.twpro_setBonus.set_gentleman = new Array();
  TWPro.twpro_setBonus.set_gentleman[2] = new Object();
  TWPro.twpro_setBonus.set_gentleman[2].bonus = new Object();
  TWPro.twpro_setBonus.set_gentleman[2].bonus.attributes = new Object();
  TWPro.twpro_setBonus.set_gentleman[2].bonus.attributes.charisma = 1;
  TWPro.twpro_setBonus.set_gentleman[2].bonus.skills = new Object();
  TWPro.twpro_setBonus.set_gentleman[2].bonus.skills.appearance = 8;
  TWPro.twpro_setBonus.set_gentleman[2].jobBonus = new Object();
  TWPro.twpro_setBonus.set_gentleman[2].jobBonus.all = 5;
  TWPro.twpro_setBonus.set_gentleman[2].speedBonus = 0;
  TWPro.twpro_setBonus.set_gentleman[2].parsedBonus = new Object();
  TWPro.twpro_setBonus.set_gentleman[3] = new Object();
  TWPro.twpro_setBonus.set_gentleman[3].bonus = new Object();
  TWPro.twpro_setBonus.set_gentleman[3].bonus.attributes = new Object();
  TWPro.twpro_setBonus.set_gentleman[3].bonus.attributes.charisma = 3;
  TWPro.twpro_setBonus.set_gentleman[3].bonus.skills = new Object();
  TWPro.twpro_setBonus.set_gentleman[3].bonus.skills.leadership = 8;
  TWPro.twpro_setBonus.set_gentleman[3].bonus.skills.appearance = 8;
  TWPro.twpro_setBonus.set_gentleman[3].jobBonus = new Object();
  TWPro.twpro_setBonus.set_gentleman[3].jobBonus.all = 15;
  TWPro.twpro_setBonus.set_gentleman[3].speedBonus = 0;
  TWPro.twpro_setBonus.set_gentleman[3].parsedBonus = new Object();
  TWPro.twpro_setBonus.set_gentleman[4] = new Object();
  TWPro.twpro_setBonus.set_gentleman[4].bonus = new Object();
  TWPro.twpro_setBonus.set_gentleman[4].bonus.attributes = new Object();
  TWPro.twpro_setBonus.set_gentleman[4].bonus.attributes.charisma = 6;
  TWPro.twpro_setBonus.set_gentleman[4].bonus.skills = new Object();
  TWPro.twpro_setBonus.set_gentleman[4].bonus.skills.leadership = 8;
  TWPro.twpro_setBonus.set_gentleman[4].bonus.skills.trade = 8;
  TWPro.twpro_setBonus.set_gentleman[4].bonus.skills.appearance = 8;
  TWPro.twpro_setBonus.set_gentleman[4].jobBonus = new Object();
  TWPro.twpro_setBonus.set_gentleman[4].jobBonus.all = 30;
  TWPro.twpro_setBonus.set_gentleman[4].speedBonus = 0;
  TWPro.twpro_setBonus.set_gentleman[4].parsedBonus = new Object();
  TWPro.twpro_setBonus.set_gentleman[5] = new Object();
  TWPro.twpro_setBonus.set_gentleman[5].bonus = new Object();
  TWPro.twpro_setBonus.set_gentleman[5].bonus.attributes = new Object();
  TWPro.twpro_setBonus.set_gentleman[5].bonus.attributes.charisma = 10;
  TWPro.twpro_setBonus.set_gentleman[5].bonus.skills = new Object();
  TWPro.twpro_setBonus.set_gentleman[5].bonus.skills.leadership = 8;
  TWPro.twpro_setBonus.set_gentleman[5].bonus.skills.trade = 8;
  TWPro.twpro_setBonus.set_gentleman[5].bonus.skills.appearance = 16;
  TWPro.twpro_setBonus.set_gentleman[5].jobBonus = new Object();
  TWPro.twpro_setBonus.set_gentleman[5].jobBonus.all = 50;
  TWPro.twpro_setBonus.set_gentleman[5].speedBonus = 0;
  TWPro.twpro_setBonus.set_gentleman[5].parsedBonus = new Object();
  TWPro.twpro_invHash = '';
  TWPro.twpro_itemStorage = new Object();
  while(TWPro.twpro_active)
  {
    //alert('// Original AjaxWindow.show:\n'+AjaxWindow.show.toString());
    //alert('// Original AjaxWindow.show:\n'+AjaxWindow.show.toString());
    //alert('// Original Wear.add:\n'+Wear.add.toString());
    //alert('// Original Wear.uncarry:\n'+Wear.uncarry.toString());
    //alert('// Original Bag.getInstance().add:\n'+Bag.getInstance().add.toString());
    //alert('// Original Bag.getInstance().carry:\n'+Bag.getInstance().carry.toString());
    //for(var twpro_i = 0; twpro_i < ItemPopup.prototype.getXHTML.toString().length; twpro_i += 2000)
    //{
    //  alert(((twpro_i == 0)?('// Original ItemPopup.prototype.getXHTML:\n'):(''))+ItemPopup.prototype.getXHTML.toString().substr(twpro_i,2000));
    //}
    var twpro_matchtest;
    if(AjaxWindow.show.toString().search(/evalJS/) == -1)
    {
      if((AjaxWindow.show.toString().search(/if *\(data\.page *!= *undefined\) *{/) == -1) || (AjaxWindow.show.toString().search(/eval\(data\.js\);/) == -1))
      {
        TWPro.twpro_failureInject = true;
        break;
      }
      TWPro.twpro_failureRollback.unshift('AjaxWindow.show = '+AjaxWindow.show.toString());
      eval('AjaxWindow.show = '+AjaxWindow.show.toString().replace(/if *\(data\.page *!= *undefined\) *{/,'if(data.page!=undefined){TWPro.twpro_injectionSwitch(extendeName,\'page\',data,null);').replace(/eval\(data\.js\);/,'TWPro.twpro_injectionSwitch(extendeName,\'js\',data,\'js\');eval(data.js);TWPro.twpro_injectionSwitch(extendeName,\'after\',data,null);'));
      //alert('// TW Pro AjaxWindow.show:\n'+AjaxWindow.show.toString());
    }
    else
    {
      if((AjaxWindow.show.toString().search(/if *\(data\.page *!= *undefined\) *{/) == -1) || (AjaxWindow.show.toString().search(/this\.evalJS\(\);/) == -1))
      {
        TWPro.twpro_failureInject = true;
        break;
      }
      TWPro.twpro_failureRollback.unshift('AjaxWindow.show = '+AjaxWindow.show.toString());
      eval('AjaxWindow.show = '+AjaxWindow.show.toString().replace(/if *\(data\.page *!= *undefined\) *{/,'if(data.page!=undefined){TWPro.twpro_injectionSwitch(extendeName,\'page\',data,null);').replace(/this\.evalJS\(\);/,'this.twpro_extendeName=extendeName;this.evalJS();'));
      //alert('// TW Pro AjaxWindow.show:\n'+AjaxWindow.show.toString());
      //alert('// Original Ajax.prototype.evalJS:\n'+Ajax.prototype.evalJS.toString());
      if(Ajax.prototype.evalJS.toString().search(/eval\(this\.jsContent\);/) == -1)
      {
        TWPro.twpro_failureInject = true;
        break;
      }
      TWPro.twpro_failureRollback.unshift('Ajax.prototype.evalJS = '+Ajax.prototype.evalJS.toString());
      eval('Ajax.prototype.evalJS = '+Ajax.prototype.evalJS.toString().replace(/eval\(this\.jsContent\);/,'TWPro.twpro_injectionSwitch(this.twpro_extendeName,\'js\',this,\'jsContent\');eval(this.jsContent);TWPro.twpro_injectionSwitch(this.twpro_extendeName,\'after\',this,null);'));
      //alert('// TW Pro Ajax.prototype.evalJS:\n'+Ajax.prototype.evalJS.toString());
    }
    if(Wear.add.toString().search(/}, *('*)over/) == -1)
    {
      TWPro.twpro_failureInject = true;
      break;
    }
    TWPro.twpro_failureRollback.unshift('Wear.add = '+Wear.add.toString());
    eval('Wear.add = '+Wear.add.toString().replace(/}, *('*)over/,'TWPro.twpro_changeItem();},$1over'));
    //alert('// TW Pro Wear.add:\n'+Wear.add.toString());
    if(Wear.uncarry.toString().search(/}\.bind/) == -1)
    {
      TWPro.twpro_failureInject = true;
      break;
    }
    TWPro.twpro_failureRollback.unshift('Wear.uncarry = '+Wear.uncarry.toString());
    eval('Wear.uncarry = '+Wear.uncarry.toString().replace(/}\.bind/,'TWPro.twpro_changeItem();}.bind'));
    //alert('// TW Pro Wear.uncarry:\n'+Wear.uncarry.toString());
    if(Bag.getInstance().add.toString().search(/}, *('*)over/) == -1)
    {
      TWPro.twpro_failureInject = true;
      break;
    }
    twpro_matchtest = Bag.getInstance().add.toString().match(/(["'])wear_["'] *\+ *item\.get_type\(\) *\+ *["']_highlight["']/g);
    if(twpro_matchtest == null)
    {
      TWPro.twpro_failureInject = true;
      break;
    }
    if(twpro_matchtest.length != 3)
    {
      TWPro.twpro_failureInject = true;
      break;
    }
    TWPro.twpro_failureRollback.unshift('Bag.getInstance().add = '+Bag.getInstance().add.toString());
    eval('Bag.getInstance().add = '+Bag.getInstance().add.toString().replace(/}, *('*)over/,'TWPro.twpro_changeItem();},$1over').replace(/(["'])wear_["'] *\+ *item\.get_type\(\) *\+ *["']_highlight["']/g,'(TWPro.twpro_activeJob())?($1$1):($1wear_$1+item.get_type()+$1_highlight$1)'));
    //alert('// TW Pro Bag.getInstance().add:\n'+Bag.getInstance().add.toString());
    if(Bag.getInstance().carry.toString().search(/return true;}\.bind/) == -1)
    {
      TWPro.twpro_failureInject = true;
      break;
    }
    TWPro.twpro_failureRollback.unshift('Bag.getInstance().carry = '+Bag.getInstance().carry.toString());
    eval('Bag.getInstance().carry = '+Bag.getInstance().carry.toString().replace(/return true;}\.bind/,'TWPro.twpro_changeItem();return true;}.bind'));
    //alert('// TW Pro Bag.getInstance().carry:\n'+Bag.getInstance().carry.toString());
    if(ItemPopup.prototype.getXHTML.toString().replace(/xhtml *\+= *(['"])<span class=(\\*)"item_popup_trader_price/) == -1)
    {
      TWPro.twpro_failureInject = true;
      break;
    }
    TWPro.twpro_failureRollback.unshift('ItemPopup.prototype.getXHTML = '+ItemPopup.prototype.getXHTML.toString());
    eval('ItemPopup.prototype.getXHTML = '+ItemPopup.prototype.getXHTML.toString().replace(/xhtml *\+= *(['"])<span class=(\\*)"item_popup_trader_price/,'xhtml+=TWPro.twpro_popup(item);xhtml+=$1<span class=$2"item_popup_trader_price'));
    //for(var twpro_i = 0; twpro_i < ItemPopup.prototype.getXHTML.toString().length; twpro_i += 2000)
    //{
    //  alert(((twpro_i == 0)?('// TW Pro ItemPopup.prototype.getXHTML:\n'):(''))+ItemPopup.prototype.getXHTML.toString().substr(twpro_i,2000));
    //}
    break;
  }
  TWPro.twpro_world = window.location.hostname.substr(0,window.location.hostname.search(/\./));
  var twpro_support = document.createElement('div');
  twpro_support.id = 'twpro_support';
  twpro_support.style.position = 'absolute';
  twpro_support.style.color = '#656565';
  twpro_support.style.fontSize = '10px';
  twpro_support.style.marginLeft = '2px';
  twpro_support.style.marginTop = '9px';
  twpro_support.style.zIndex = '1';
  var twpro_PT_translator = document.createElement('a');
  twpro_PT_translator.id = 'twpro_PT_translator';

  twpro_PT_translator.href = 'http://ptwestscript.blogspot.com';
  twpro_PT_translator.target = '_blank';

  twpro_PT_translator.appendChild(document.createTextNode("Igo"));
  twpro_support.appendChild(document.createTextNode("PT-PT Coder: "));
  twpro_support.appendChild(twpro_PT_translator);
  twpro_support.appendChild(document.createTextNode(" | PTWestScript 3.4 | Release: 14/08/09 * 16:47"));

  if(!TWPro.twpro_active)
  {
    twpro_support.appendChild(document.createTextNode(" (global deaktiviert)"));
  }
  document.getElementById('main_container').insertBefore(twpro_support,document.getElementById('footer_server_time'));
  if(TWPro.twpro_failureInject)
  {
    TWPro.twpro_throwFailure();
  }
}

function twpro_throwFailure()
{
  if(TWPro.twpro_failure) return;
  TWPro.twpro_failure = true;
  for(var twpro_i=0;twpro_i<TWPro.twpro_failureRollback.length;twpro_i++)
  {
    eval(TWPro.twpro_failureRollback[twpro_i]);
  }
  document.getElementById('twpro_support').appendChild(document.createTextNode(" (deaktiviert durch Fehler)"));
}

function twpro_injectionSwitch(twpro_extendeName, twpro_injectionType, twpro_data, twpro_jsversion)
{
  if(TWPro.twpro_failure) return;
  if(twpro_extendeName==undefined)
  {
    //alert('Mist');
    return;
  }
  //alert(twpro_extendeName);
  switch(twpro_injectionType)
  {
    case 'page':
    {
      if(twpro_extendeName == 'inventory')
      {
        TWPro.twpro_insertList(twpro_data);
      }
      if(twpro_extendeName == 'settings')
      {
        twpro_data.page = twpro_data.page.replace(/<img src="img\.php\?type=sig&amp;design=classic1&amp;player_id=(\d+)&time=(\d+)"/,'<img alt="" src="http://www.tw-pro.de/sig.php?server='+window.location.hostname+'&amp;player_id=$1&amp;time=$2" class="playerSignature" style="margin: 4px auto;"><input type="text" value="[url=http://www.tw-pro.de][img]http://www.tw-pro.de/sig.php?server='+window.location.hostname+'&amp;player_id=$1[/img][/url]" style="width: 468px; margin: 0 auto 4px 0;" onclick="this.focus(); this.select();" /><input type="text" value="&lt;a href=&quot;http://www.tw-pro.de&quot;&gt;&lt;img alt=&quot;&quot; src=&quot;http://www.tw-pro.de/sig.php?server='+window.location.hostname+'&amp;player_id=$1&quot; /&gt;&lt;/a&gt;" style="width: 468px; margin: 0 auto 16px 0;" onclick="this.focus(); this.select();" /><img src="img.php?type=sig&amp;design=classic1&amp;player_id=$1&time=$2"');
        //for(var twpro_i = 0; twpro_i < twpro_data.page.length; twpro_i += 2000)
        //{
        //  alert(twpro_data.page.substr(twpro_i,2000));
        //}
      }
      break;
    }
    case 'js':
    {
      //alert(twpro_extendeName);
      if((twpro_extendeName == 'inventory') || (twpro_extendeName.substr(0,15) == 'building_tailor') || (twpro_extendeName.substr(0,17) == 'building_gunsmith') || (twpro_extendeName.substr(0,16) == 'building_general'))
      {
        TWPro.twpro_getPlace(twpro_data,twpro_extendeName,twpro_jsversion);
      }
      if(twpro_extendeName == 'settings')
      {
        //for(var twpro_i = 0; twpro_i < twpro_data[twpro_jsversion].length; twpro_i += 2000)
        //{
        //  alert(twpro_data[twpro_jsversion].substr(twpro_i,2000));
        //}
      }
      break;
    }
    case 'after':
    {
      if(twpro_extendeName == 'inventory')
      {
        TWPro.twpro_showList();
      }
      break;
    }
  }
}

function twpro_getAuthor()
{
  //if(TWPro.twpro_failure) return false;
  switch(TWPro.twpro_world)
  {
    case 'de1':
    case 'de2':
    case 'de3':
    case 'de4':
    case 'de5':
    case 'de6':
      return true;
  }
  return false;
}

function twpro_activeJob()
{
  if(TWPro.twpro_failure) return false;
  if((TWPro.twpro_calculated) && (document.getElementById("twpro_jobList")) && (document.getElementById("twpro_jobList").selectedIndex!=0))
  {
    return true;
  }
  else
  {
    return false;
  }
}

function twpro_getPlace(twpro_data,twpro_extendeName,twpro_jsversion)
{
  //alert('2: '+twpro_extendeName);
  if(TWPro.twpro_failure) return;
  if(twpro_extendeName=='inventory')
  {
    if(twpro_data[twpro_jsversion].search(/wear_content\[i\]\);(\s*)\}/) == -1)
    {
      //alert('1');
      TWPro.twpro_throwFailure();
      return;
    }
    if(twpro_data[twpro_jsversion].search(/bag_content\[i\]\);(\s*)\}/) == -1)
    {
      //alert('2');
      TWPro.twpro_throwFailure();
      return;
    }

    twpro_data[twpro_jsversion] = twpro_data[twpro_jsversion].replace(/wear_content\[i\]\);(\s*)\}/,'wear_content[i]);$1};TWPro.twpro_initializeItems(\'wear\',null);').replace(/bag_content\[i\]\);(\s*)\}/,'bag_content[i]);$1};TWPro.twpro_initializeItems(\'bag\',null);');
    //for(var twpro_i = 0; twpro_i < twpro_data[twpro_jsversion].length; twpro_i += 2000)
    //{
    //  alert(twpro_data[twpro_jsversion].substr(twpro_i,2000));
    //}
  }
  else
  {
    if(twpro_data[twpro_jsversion].search(/var trader_inv/) == -1)
    {
      //alert('3');
      TWPro.twpro_throwFailure();
      return;
    }
    if((twpro_data[twpro_jsversion].search(/trader_inv\[i\]\);(\s*)\}/) == -1) && (twpro_data[twpro_jsversion].search(/trader_inv\[i\], *(['"])(\w*)['"]\);(\s*)\}/) == -1))
    {
      //alert('4');
      TWPro.twpro_throwFailure();
      return;
    }
    //for(var twpro_i = 0; twpro_i < twpro_data[twpro_jsversion].length; twpro_i += 2000)
    //{
    //  alert(twpro_data[twpro_jsversion].substr(twpro_i,2000));
    //}
    twpro_data[twpro_jsversion] = twpro_data[twpro_jsversion].replace(/var trader_inv/,'TWPro.twpro_initializeItems(\'own\',playerInventory);var trader_inv').replace(/trader_inv\[i\]\);(\s*)\}/,'trader_inv[i]);$1};TWPro.twpro_initializeItems(\'trader\',traderInventory);').replace(/trader_inv\[i\], *(['"])(\w*)['"]\);(\s*)\}/,'trader_inv[i],$1$2$1);$3};TWPro.twpro_initializeItems(\'trader\',traderInventory);');
    //for(var twpro_i = 0; twpro_i < twpro_data[twpro_jsversion].length; twpro_i += 2000)
    //{
    //  alert(twpro_data[twpro_jsversion].substr(twpro_i,2000));
    //}
  }
}

// wird beim Erstellen eines Popups ausgefuehrt, stellt Code fuer diesen zusammen
function twpro_popup(twpro_item)
{
  if(TWPro.twpro_failure) return '';
  var twpro_xhtml = '';
  if(TWPro.twpro_calculated && (twpro_item.twpro_place!=undefined))
  {
    if((twpro_item.twpro_place=='wear') || (twpro_item.twpro_place=='bag'))
    {
      if(document.getElementById("twpro_jobList") && (document.getElementById("twpro_jobList").selectedIndex!=0))
      {
        var twpro_selectedJob = parseInt(document.getElementById("twpro_jobList")[document.getElementById("twpro_jobList").selectedIndex].value);
        if(twpro_selectedJob>=0)
        {
          var twpro_job = TWPro.twpro_jobs[twpro_selectedJob];
          if(twpro_item.twpro_bonus==undefined)
          {
            TWPro.twpro_prepareItem(twpro_item);
            if(twpro_item.twpro_bonus)
            {
              for(var twpro_i=0;twpro_i<TWPro.twpro_jobs.length;twpro_i++)
              {
                twpro_item.twpro_jobbonus[TWPro.twpro_jobs[twpro_i].shortName] = TWPro.twpro_testItem(TWPro.twpro_jobs[twpro_i],twpro_item);
              }
            }
          }
          if(twpro_item.twpro_bonus)
          {
            var twpro_aktplus = twpro_item.twpro_jobbonus[TWPro.twpro_jobs[twpro_selectedJob].shortName];
            if(twpro_aktplus > 0)
            {
              twpro_xhtml+='<span class="item_popup_bonus">';
              twpro_xhtml+='+'+twpro_aktplus+' '+twpro_job.name;
              twpro_xhtml+='<br /></span><br />';
            }
          }
        }
      }
    }
    if(twpro_item.twpro_place=='trader')
    {
      if(twpro_item.twpro_bonus==undefined)
      {
        TWPro.twpro_prepareItem(twpro_item);
        if(twpro_item.twpro_bonus)
        {
          for(var twpro_i=0;twpro_i<TWPro.twpro_jobs.length;twpro_i++)
          {
            twpro_item.twpro_jobbonus[TWPro.twpro_jobs[twpro_i].shortName] = TWPro.twpro_testItem(TWPro.twpro_jobs[twpro_i],twpro_item);
          }
        }
      }
      if(twpro_item.twpro_bonus)
      {
        var twpro_j = 0;
        var twpro_plus = new Array();
        var twpro_better;
        for(var twpro_i=0;twpro_i<TWPro.twpro_jobs.length;twpro_i++)
        {
          twpro_better=twpro_item.twpro_jobbonus[TWPro.twpro_jobs[twpro_i].shortName]-TWPro.twpro_jobs[twpro_i].twpro_bestStats[twpro_item.type];
          if(twpro_better>0)
          {
            twpro_plus.push(twpro_better+' '+TWPro.twpro_jobs[twpro_i].name);
            twpro_j++;
          }
        }
        if(twpro_j>0)
        {
          twpro_plus.sort(TWPro.twpro_sortPlus);
          twpro_xhtml+='<span class="item_popup_bonus">';
          twpro_xhtml+='<table><tr><td>';
          for(var twpro_i=0;(twpro_i<twpro_plus.length)&&(twpro_i<33);twpro_i++)
          {
            twpro_xhtml+='<span style="white-space:nowrap;'
            if(TWPro.twpro_activeJob() && (twpro_plus[twpro_i].search(new RegExp(TWPro.twpro_jobs[parseInt(document.getElementById('twpro_jobList')[document.getElementById('twpro_jobList').selectedIndex].value)].name))!=-1))
            {
              twpro_xhtml+='color:rgb(78, 55, 7);';
            }
            twpro_xhtml+='">+'+twpro_plus[twpro_i]+'</span><br />';
            if(((twpro_j<=30) && (twpro_i==14)) || (((twpro_j>30) && (twpro_j<=33)) && (twpro_i==(Math.round(twpro_j/2)-1))) || ((twpro_j>33) && (twpro_i==16)))
            {
              twpro_xhtml+='</td><td>';
            }
          }
          if(twpro_i<twpro_plus.length)
          {
            twpro_xhtml+='...';
          }
          twpro_xhtml+='</td></tr></table>';
          twpro_xhtml+='</span><br />';
        }
      }
    }
  }
  return twpro_xhtml;
}

// fuegt Auswahlliste in das Inventar ein
function twpro_insertList(twpro_data)
{
  if(TWPro.twpro_failure) return;
  if(TWPro.twpro_jobsort==undefined)
  {
    TWPro.twpro_jobsort = 'name';
  }
  TWPro.twpro_bag = new Object();
  TWPro.twpro_bag.twpro_priceWear = 0;
  TWPro.twpro_bag.twpro_priceBag = 0;
  TWPro.twpro_bag.twpro_priceItems = 0;
  TWPro.twpro_bag.twpro_priceYields = 0;
  TWPro.twpro_bag.twpro_countType = new Object();
  TWPro.twpro_bag.twpro_types = new Array();
  TWPro.twpro_setItems = new Object();
  TWPro.twpro_setItemsCount = new Object();
  for(var twpro_set in TWPro.twpro_setBonus)
  {
    TWPro.twpro_setItemsCount[twpro_set] = 0;
  }
  TWPro.twpro_invHashTest = new Array();
  for(var twpro_type in Character.itemLevelRequirementDecrease)
  {
    if((twpro_type!='all') && (!isNaN(Character.itemLevelRequirementDecrease[twpro_type])))
    {
      TWPro.twpro_bag.twpro_types.push(twpro_type);
      TWPro.twpro_bag.twpro_countType[twpro_type] = 0;
    }
  }
  //alert(twpro_data.page);

  var actual_url = window.location.host;
  var actual_world = "";
  var region = "";
  var number_found = false;

  for (var i = 0; i<actual_url.length; i++){
      if(actual_url.charCodeAt(i)>= 48 && actual_url.charCodeAt(i) <=57){
         actual_world = actual_world + actual_url.substr(i,1);
         number_found = true;
      }
      else if(!number_found){
         region = region + actual_url.substr(i,1);
      }
  }

  if(region == "pt"){
        var twpro_xhtml = '<table id="twpro_jobDisplay" style="display: inline;position: absolute; visibility:hidden; margin-left:20px;"><tr><td>';
        twpro_xhtml += '<a href="javascript:undefined;" onmouseup="" id="twpro_jobsort_link_name"><img id="twpro_jobsort_name" alt="" src="" style="height: 0px;width: 0px;background-image: url();background-position: '+((TWPro.twpro_jobsort == 'name')?('0px 0px'):('0px 0px'))+';" onmouseover="this.style.backgroundPosition=\'0px 0px\';" onmouseout="this.style.backgroundPosition=((TWPro.twpro_jobsort == \'name\')?(\'0px 0px\'):(\'0px 0px\'));"/></a>';
        twpro_xhtml += '<a href="javascript:undefined;" onmouseup="" id="twpro_jobsort_link_erfahrung"><img id="twpro_jobsort_erfahrung" alt="" src="" style="height: 0px;width: 0px;background-image: url();background-position: '+((TWPro.twpro_jobsort == 'erfahrung')?('0px 0px'):('0px 0px'))+';" onmouseover="this.style.backgroundPosition=\'0px 0px\';" onmouseout="this.style.backgroundPosition=((TWPro.twpro_jobsort == \'erfahrung\')?(\'0px 0px\'):(\'0px 0px\'));"/></a>';
        twpro_xhtml += '<a href="javascript:undefined;" onmouseup="" id="twpro_jobsort_link_lohn"><img id="twpro_jobsort_lohn" alt="" src="" style="height: 0px;width: 0px;background-image: url();background-position: '+((TWPro.twpro_jobsort == 'lohn')?('0px 0px'):('0px 0px'))+';" onmouseover="this.style.backgroundPosition=\'0px 0px\';" onmouseout="this.style.backgroundPosition=((TWPro.twpro_jobsort == \'lohn\')?(\'0px 0px\'):(\'0px 0px\'));"/></a>';
        twpro_xhtml += '<a href="javascript:undefined;" onmouseup="" id="twpro_jobsort_link_glueck"><img id="twpro_jobsort_glueck" alt="" src="" style="height: 0px;width: 0px;background-image: url();background-position: '+((TWPro.twpro_jobsort == 'glueck')?('0px 0px'):('0px 0px'))+';" onmouseover="this.style.backgroundPosition=\'0px 0px\';" onmouseout="this.style.backgroundPosition=((TWPro.twpro_jobsort == \'glueck\')?(\'0px 0px\'):(\'0px 0px\'));"/></a>';
        twpro_xhtml += '<span id="twpro_aktuelleap" style="position:absolute;right:5px;visibility:hidden;"><span id="twpro_aktuelleapvalue" style="border-style:solid;border-width:1px;padding:2px;"></span></span></td></tr><tr><td><select id="twpro_jobList" size="1" onchange="" onclick="TWPro.twpro_clickList()" style="background-color: rgb(207, 195, 166); font-size: 10px; width:190px;"><option value="-1" id="twpro_wait" style="background-color: rgb(207, 195, 166);">Clica para Procurar Trabalhos</option></select></td></tr></table>';
  }else{
        var twpro_xhtml = '<table id="twpro_jobDisplay" style="display: inline;position: absolute; visibility:hidden; margin-left:20px;"><tr><td>';
        twpro_xhtml += '<a href="javascript:undefined;" onmouseup="TWPro.twpro_sortList(\'name\');" id="twpro_jobsort_link_name"><img id="twpro_jobsort_name" alt="" src="images/transparent.png" style="height: 17px;width: 20px;background-image: url(http://www.tw-pro.de/img/sort.png);background-position: '+((TWPro.twpro_jobsort == 'name')?('0px 0px'):('0px -17px'))+';" onmouseover="this.style.backgroundPosition=\'0px 0px\';" onmouseout="this.style.backgroundPosition=((TWPro.twpro_jobsort == \'name\')?(\'0px 0px\'):(\'0px -17px\'));"/></a>';
        twpro_xhtml += '<a href="javascript:undefined;" onmouseup="TWPro.twpro_sortList(\'erfahrung\');" id="twpro_jobsort_link_erfahrung"><img id="twpro_jobsort_erfahrung" alt="" src="images/transparent.png" style="height: 17px;width: 21px;background-image: url(http://www.tw-pro.de/img/sort.png);background-position: '+((TWPro.twpro_jobsort == 'erfahrung')?('-20px 0px'):('-20px -17px'))+';" onmouseover="this.style.backgroundPosition=\'-20px 0px\';" onmouseout="this.style.backgroundPosition=((TWPro.twpro_jobsort == \'erfahrung\')?(\'-20px 0px\'):(\'-20px -17px\'));"/></a>';
        twpro_xhtml += '<a href="javascript:undefined;" onmouseup="TWPro.twpro_sortList(\'lohn\');" id="twpro_jobsort_link_lohn"><img id="twpro_jobsort_lohn" alt="" src="images/transparent.png" style="height: 17px;width: 20px;background-image: url(http://www.tw-pro.de/img/sort.png);background-position: '+((TWPro.twpro_jobsort == 'lohn')?('-41px 0px'):('-41px -17px'))+';" onmouseover="this.style.backgroundPosition=\'-41px 0px\';" onmouseout="this.style.backgroundPosition=((TWPro.twpro_jobsort == \'lohn\')?(\'-41px 0px\'):(\'-41px -17px\'));"/></a>';
        twpro_xhtml += '<a href="javascript:undefined;" onmouseup="TWPro.twpro_sortList(\'glueck\');" id="twpro_jobsort_link_glueck"><img id="twpro_jobsort_glueck" alt="" src="images/transparent.png" style="height: 17px;width: 21px;background-image: url(http://www.tw-pro.de/img/sort.png);background-position: '+((TWPro.twpro_jobsort == 'glueck')?('-61px 0px'):('-61px -17px'))+';" onmouseover="this.style.backgroundPosition=\'-61px 0px\';" onmouseout="this.style.backgroundPosition=((TWPro.twpro_jobsort == \'glueck\')?(\'-61px 0px\'):(\'-61px -17px\'));"/></a>';
        twpro_xhtml += '<span id="twpro_aktuelleap" style="position:absolute;right:5px;visibility:hidden;"><span id="twpro_aktuelleapvalue" style="border-style:solid;border-width:1px;padding:2px;"></span></span></td></tr><tr><td><select id="twpro_jobList" size="1" onchange="TWPro.twpro_changeJob()" onclick="TWPro.twpro_clickList()" style="background-color: rgb(207, 195, 166); font-size: 10px; width:190px;"><option value="-1" id="twpro_wait" style="background-color: rgb(207, 195, 166);">Clica para Procurar Trabalhos</option></select></td></tr></table>';
  }
  //alert(twpro_xhtml);
  twpro_data.page = twpro_data.page.replace(/<h2(.*)">(.+)<\/h2>/,'<h2$1white-space: nowrap;"><span id="twpro_bag" style="cursor: default;">$2</span>'+twpro_xhtml+'</h2>');
  //alert(twpro_data.page);
}

function twpro_sortList(twpro_jobSortItem)
{
  if(TWPro.twpro_failure) return;
  TWPro.twpro_jobsort = twpro_jobSortItem;
  TWPro.twpro_jobSortMark(twpro_jobSortItem,true);
  if(twpro_jobSortItem != 'name')
  {
    TWPro.twpro_jobSortMark('name',false);
  }
  if(twpro_jobSortItem != 'erfahrung')
  {
    TWPro.twpro_jobSortMark('erfahrung',false);
  }
  if(twpro_jobSortItem != 'lohn')
  {
    TWPro.twpro_jobSortMark('lohn',false);
  }
  if(twpro_jobSortItem != 'glueck')
  {
    TWPro.twpro_jobSortMark('glueck',false);
  }
  if(TWPro.twpro_calculated && document.getElementById("twpro_jobList"))
  {
    if(document.getElementById('twpro_wait').text == 'Selecciona um Trabalho')
    {
      document.getElementById('twpro_wait').text = 'A Procurar Trabalhos... Aguarda...';
      var twpro_selectedJobName = 'none';
      if(document.getElementById("twpro_jobList").selectedIndex!=0)
      {
        var twpro_selectedJob = parseInt(document.getElementById("twpro_jobList")[document.getElementById("twpro_jobList").selectedIndex].value);
        if(twpro_selectedJob>=0)
        {
          twpro_selectedJobName = TWPro.twpro_jobs[twpro_selectedJob].shortName;
        }
      }
      document.getElementById("twpro_jobList").selectedIndex = 0;
      while(document.getElementById("twpro_jobList").lastChild.id != 'twpro_wait')
      {
        document.getElementById("twpro_jobList").removeChild(document.getElementById("twpro_jobList").lastChild);
      }
      TWPro.twpro_jobs.sort(TWPro.twpro_sortJobs);
      TWPro.twpro_insertListItems();
      for(var twpro_i=0;twpro_i<TWPro.twpro_jobs.length;twpro_i++)
      {
        TWPro.twpro_jobs[twpro_i].twpro_jobid = twpro_i;
      }
      for(var twpro_i=0;twpro_i<document.getElementById("twpro_jobList").options.length;twpro_i++)
      {
        var twpro_jobTest = parseInt(document.getElementById("twpro_jobList").options[twpro_i].value);
        if(twpro_jobTest>=0)
        {
          if(twpro_selectedJobName == TWPro.twpro_jobs[twpro_jobTest].shortName)
          {
            document.getElementById("twpro_jobList").selectedIndex = twpro_i;
          }
        }
      }
      document.getElementById('twpro_wait').text = 'Selecciona um Trabalho';
    }
    else
    {
      TWPro.twpro_jobs.sort(TWPro.twpro_sortJobs);
    }
  }
  document.getElementById('twpro_jobsort_link_'+twpro_jobSortItem).blur();
}

function twpro_jobSortMark(twpro_jobSortItem,twpro_jobSortValue)
{
  if(TWPro.twpro_failure) return;
  var twpro_bgposition = '';
  switch(twpro_jobSortItem)
  {
    case 'name':
    {
      twpro_bgposition += '0px';
      break;
    }
    case 'erfahrung':
    {
      twpro_bgposition += '-20px';
      break;
    }
    case 'lohn':
    {
      twpro_bgposition += '-41px';
      break;
    }
    case 'glueck':
    {
      twpro_bgposition += '-61px';
      break;
    }
  }
  twpro_bgposition += ' ';
  if(twpro_jobSortValue)
  {
    twpro_bgposition += '0px';
  }
  else
  {
    twpro_bgposition += '-17px';
  }
  document.getElementById('twpro_jobsort_'+twpro_jobSortItem).style.backgroundPosition = twpro_bgposition;
}

// macht die Liste sichtbar
function twpro_showList()
{
  if(TWPro.twpro_failure) return;
  $('twpro_jobsort_link_name').addMousePopup(new MousePopup('Ordenar por <b>Nome</b>',100,{opacity:0.95}));
  $('twpro_jobsort_link_erfahrung').addMousePopup(new MousePopup('Ordenar por <b>Experi&ecirc;ncia</b>',100,{opacity:0.95}));
  $('twpro_jobsort_link_lohn').addMousePopup(new MousePopup('Ordenar por <b>Sal&aacute;rio</b>',100,{opacity:0.95}));
  $('twpro_jobsort_link_glueck').addMousePopup(new MousePopup('Ordenar por <b>Sorte</b>',100,{opacity:0.95}));
  TWPro.twpro_bag.twpro_bagPopup = new MousePopup('',100,{opacity:0.95});
  TWPro.twpro_bag.twpro_bagPopup.twpro_refresh = function(){this.setXHTML(TWPro.twpro_getBagPopup());};
  TWPro.twpro_bag.twpro_bagPopup.twpro_refresh();
  $('twpro_bag').addMousePopup(TWPro.twpro_bag.twpro_bagPopup);

  //TWPro.twpro_invHash = new Array();
  if(TWPro.twpro_invHash==TWPro.twpro_invHashTest.join(','))
  {
    for(var twpro_wear in Wear.wear)
    {
      TWPro.twpro_prepareItem(Wear.wear[twpro_wear].obj);
      if(Wear.wear[twpro_wear].obj.twpro_bonus)
      {
        Wear.wear[twpro_wear].obj.twpro_jobbonus = TWPro.twpro_itemStorage[Wear.wear[twpro_wear].obj.item_id].twpro_jobbonus;
//        for(var twpro_i=0;twpro_i<TWPro.twpro_jobs.length;twpro_i++)
//        {
//          Wear.wear[twpro_wear].obj.twpro_jobbonus[TWPro.twpro_jobs[twpro_i].shortName] = TWPro.twpro_itemStorage[Wear.wear[twpro_wear].obj.item_id].twpro_jobbonus[TWPro.twpro_jobs[twpro_i].shortName];
//        }
      }
    }
    for(var twpro_bag in Bag.getInstance().items)
    {
      TWPro.twpro_prepareItem(Bag.getInstance().items[twpro_bag].obj);
      if(Bag.getInstance().items[twpro_bag].obj.twpro_bonus)
      {
        Bag.getInstance().items[twpro_bag].obj.twpro_jobbonus = TWPro.twpro_itemStorage[Bag.getInstance().items[twpro_bag].obj.item_id].twpro_jobbonus;
//        for(var twpro_i=0;twpro_i<TWPro.twpro_jobs.length;twpro_i++)
//        {
//          Bag.getInstance().items[twpro_bag].obj.twpro_jobbonus[TWPro.twpro_jobs[twpro_i].shortName] = TWPro.twpro_itemStorage[Bag.getInstance().items[twpro_bag].obj.item_id].twpro_jobbonus[TWPro.twpro_jobs[twpro_i].shortName];
//        }
      }
    }
    
  var actual_url = window.location.host;
  var actual_world = "";
  var region = "";
  var number_found = false;

  for (var i = 0; i<actual_url.length; i++){
      if(actual_url.charCodeAt(i)>= 48 && actual_url.charCodeAt(i) <=57){
         actual_world = actual_world + actual_url.substr(i,1);
         number_found = true;
      }
      else if(!number_found){
         region = region + actual_url.substr(i,1);
      }
  }

    if(region == "pt"){
       document.getElementById('twpro_wait').text = 'Lista Indisponivel nos mundos PT';
    }else{
       TWPro.twpro_insertListItems();
       document.getElementById('twpro_wait').text = 'Selecciona um Trabalho';
    }
  }
  document.getElementById('twpro_jobDisplay').style.visibility = 'visible';
}

function twpro_getBagPopup()
{
  if(TWPro.twpro_failure) return '';
  var twpro_xhtml='';
  twpro_xhtml+='<div class="item_popup">';
  twpro_xhtml+='<span class="item_popup_title">Estat&iacute;sticas do Invent&aacute;rio</span>';
  twpro_xhtml+='<span class="item_popup_requirement_text">Valor:</span>';
  twpro_xhtml+='<table>';
  twpro_xhtml+='<tr><td class="item_popup_trader_price">Itens Equipados:&nbsp;&nbsp;</td>';
  twpro_xhtml+='<td class="item_popup_trader_price">'+TWPro.twpro_bag.twpro_priceWear+' $</td></tr>';
  twpro_xhtml+='<tr><td class="item_popup_trader_price">Itens na Mochila:&nbsp;&nbsp;</td>';
  twpro_xhtml+='<td class="item_popup_trader_price">'+TWPro.twpro_bag.twpro_priceBag+' $</td></tr>';
  twpro_xhtml+='<tr><td class="item_popup_trader_price">Itens (N&atilde;o Produtos):&nbsp;&nbsp;</td>';
  twpro_xhtml+='<td class="item_popup_trader_price">'+TWPro.twpro_bag.twpro_priceItems+' $</td></tr>';
  twpro_xhtml+='<tr><td class="item_popup_trader_price">Produtos:&nbsp;&nbsp;</td>';
  twpro_xhtml+='<td class="item_popup_trader_price">'+TWPro.twpro_bag.twpro_priceYields+' $</td></tr>';
  twpro_xhtml+='<tr><td class="item_popup_trader_price">Invent&aacute;rio Completo:&nbsp;&nbsp;</td>';
  twpro_xhtml+='<td class="item_popup_trader_price">'+(TWPro.twpro_bag.twpro_priceWear+TWPro.twpro_bag.twpro_priceBag)+' $</td></tr>';
  twpro_xhtml+='</table>';
  twpro_xhtml+='<span class="item_popup_requirement_text">Volumes:</span>';
  twpro_xhtml+='<table>';
  twpro_xhtml+='<tr><td class="item_popup_trader_price">Acess&oacute;rios de Cabe&ccedil;a:&nbsp;&nbsp;</td>';
  twpro_xhtml+='<td class="item_popup_trader_price">'+TWPro.twpro_bag.twpro_countType['head']+'</td></tr>';
  twpro_xhtml+='<tr><td class="item_popup_trader_price">Acess&oacute;rios de Pesco&ccedil;o:&nbsp;&nbsp;</td>';
  twpro_xhtml+='<td class="item_popup_trader_price">'+TWPro.twpro_bag.twpro_countType['neck']+'</td></tr>';
  twpro_xhtml+='<tr><td class="item_popup_trader_price">Armas de Duelo:&nbsp;&nbsp;</td>';
  twpro_xhtml+='<td class="item_popup_trader_price">'+TWPro.twpro_bag.twpro_countType['right_arm']+'</td></tr>';
  twpro_xhtml+='<tr><td class="item_popup_trader_price">Vestu&aacute;rio:&nbsp;&nbsp;</td>';
  twpro_xhtml+='<td class="item_popup_trader_price">'+TWPro.twpro_bag.twpro_countType['body']+'</td></tr>';
  twpro_xhtml+='<tr><td class="item_popup_trader_price">Sapatos:&nbsp;&nbsp;</td>';
  twpro_xhtml+='<td class="item_popup_trader_price">'+TWPro.twpro_bag.twpro_countType['foot']+'</td></tr>';
  twpro_xhtml+='<tr><td class="item_popup_trader_price">Animais:&nbsp;&nbsp;</td>';
  twpro_xhtml+='<td class="item_popup_trader_price">'+TWPro.twpro_bag.twpro_countType['animal']+'</td></tr>';
  twpro_xhtml+='<tr><td class="item_popup_trader_price">Todos os Itens:&nbsp;&nbsp;</td>';
  var twpro_all=TWPro.twpro_bag.twpro_countType['head']+TWPro.twpro_bag.twpro_countType['neck']+TWPro.twpro_bag.twpro_countType['right_arm']+TWPro.twpro_bag.twpro_countType['body']+TWPro.twpro_bag.twpro_countType['foot']+TWPro.twpro_bag.twpro_countType['animal'];
  twpro_xhtml+='<td class="item_popup_trader_price">'+twpro_all+'</td></tr>';
  twpro_xhtml+='<tr><td class="item_popup_trader_price">Produtos:&nbsp;&nbsp;</td>';
  twpro_xhtml+='<td class="item_popup_trader_price">'+TWPro.twpro_bag.twpro_countType['yield']+'</td></tr>';
  twpro_xhtml+='<tr><td class="item_popup_trader_price">N&uacute;mero Total:&nbsp;&nbsp;</td>';
  twpro_xhtml+='<td class="item_popup_trader_price">'+(twpro_all+TWPro.twpro_bag.twpro_countType['yield'])+'</td></tr>';
  twpro_xhtml+='</table>';
  twpro_xhtml+='</div>';
  return twpro_xhtml;
}

// wird beim draufklicken auf die Liste ausgefuehrt, stoesst Berechnungen an
function twpro_clickList()
{
  if(TWPro.twpro_failure) return;
  if(document.getElementById('twpro_wait').text != 'A Procurar Trabalhos... Aguarda...' && document.getElementById('twpro_wait').text != 'Selecciona um Trabalho')
  {
  document.getElementById('twpro_wait').text = 'A Procurar Trabalhos... Aguarda...';
  window.setTimeout("TWPro.twpro_updateList()", 0);
  }
}

// stellt alle Jobs zusammen und fuegt einzelne Listenelemente ein
function twpro_updateList()
{
  if(TWPro.twpro_failure) return;
  if(!TWPro.twpro_calculated)
  {
    var twpro_jobCount = 0;
    for(var twpro_job in JobList)
    {
      TWPro.twpro_jobs[parseInt(twpro_job)]=JobList[twpro_job];
      TWPro.twpro_jobs[parseInt(twpro_job)].twpro_calculation = TWPro.twpro_jobs[parseInt(twpro_job)].formular.replace(/skills\./g,'Character.skills.');
      twpro_jobCount++;
    }
    TWPro.twpro_jobs[TWPro.twpro_jobs.length]=new Object();
    TWPro.twpro_jobs[TWPro.twpro_jobs.length-1].twpro_calculation='3 * Character.skills.build + 1 * Character.skills.repair + 1 * Character.skills.leadership';
    TWPro.twpro_jobs[TWPro.twpro_jobs.length-1].malus=0;
    TWPro.twpro_jobs[TWPro.twpro_jobs.length-1].name='Construir Edif&iacute;cio da Cidade';
    TWPro.twpro_jobs[TWPro.twpro_jobs.length-1].shortName='construct';
    twpro_jobCount++;
    TWPro.twpro_jobs.sort(TWPro.twpro_sortJobs);
    while(TWPro.twpro_jobs.length>twpro_jobCount)
    {
      TWPro.twpro_jobs.pop();
    }
  }
  TWPro.twpro_calculateJobs();

  var actual_url = window.location.host;
  var actual_world = "";
  var region = "";
  var number_found = false;

  for (var i = 0; i<actual_url.length; i++){
      if(actual_url.charCodeAt(i)>= 48 && actual_url.charCodeAt(i) <=57){
         actual_world = actual_world + actual_url.substr(i,1);
         number_found = true;
      }
      else if(!number_found){
         region = region + actual_url.substr(i,1);
      }
  }

  if(region=="pt"){
    document.getElementById('twpro_wait').text = 'Lista Indisponivel nos mundos PT';
  }else{
    TWPro.twpro_insertListItems();
    document.getElementById('twpro_wait').text = 'Selecciona um Trabalho';
  }
}

function twpro_insertListItems()
{
  if(TWPro.twpro_failure) return;
  var twpro_jobList = document.getElementById('twpro_jobList');
  var twpro_jobElement;
  var twpro_apstmp;
  for(var twpro_i=0;twpro_i<TWPro.twpro_jobs.length;twpro_i++)
  {
    twpro_apstmp = TWPro.twpro_jobs[twpro_i].twpro_aps;
    if((TWPro.twpro_jobs[twpro_i].shortName=='construct') && (Character.characterClass=='worker'))
    {
      twpro_apstmp = Math.floor(twpro_apstmp*1.05);
    }
    twpro_jobElement = document.createElement('option');
    twpro_jobElement.value = twpro_i;
    twpro_jobElement.appendChild(document.createTextNode(((TWPro.twpro_jobs[twpro_i].name.length>25)?(TWPro.twpro_jobs[twpro_i].name.substr(0,23)+'...'):(TWPro.twpro_jobs[twpro_i].name)) + ' (' + twpro_apstmp + ' PT)'));
    if(twpro_apstmp > 0)
    {
      twpro_jobElement.style.backgroundColor='rgb(160, 218, 120)';
    }
    else
    {
      twpro_jobElement.style.backgroundColor='rgb(232, 150, 120)';
    }
    twpro_jobList.appendChild(twpro_jobElement);
  }
}

// bestimmt Sortierreihenfolge der Jobs in der Liste
function twpro_sortJobs(twpro_a,twpro_b)
{
  if(TWPro.twpro_failure) return 0;
  var twpro_a_str = twpro_a.name.toLowerCase().replace(/\xE4/g,'a').replace(/\xF6/g,'o').replace(/\xFC/g,'u').replace(/\xDF/g,'ss');
  var twpro_b_str = twpro_b.name.toLowerCase().replace(/\xE4/g,'a').replace(/\xF6/g,'o').replace(/\xFC/g,'u').replace(/\xDF/g,'ss');
  if(TWPro.twpro_jobsort == 'name')
  {
    return (twpro_a_str==twpro_b_str)?(0):((twpro_a_str>twpro_b_str)?(1):(-1));
  }
  else
  {
    return (TWPro.twpro_jobValues[twpro_a.shortName][TWPro.twpro_jobsort] == TWPro.twpro_jobValues[twpro_b.shortName][TWPro.twpro_jobsort])?((twpro_a_str==twpro_b_str)?(0):((twpro_a_str>twpro_b_str)?(1):(-1))):(TWPro.twpro_jobValues[twpro_b.shortName][TWPro.twpro_jobsort] - TWPro.twpro_jobValues[twpro_a.shortName][TWPro.twpro_jobsort]);
  }
}

function twpro_sortPlus(twpro_a,twpro_b)
{
  if(TWPro.twpro_failure) return 0;
  var twpro_a_num = parseInt(twpro_a.substring(0,twpro_a.search(/ /)));
  var twpro_b_num = parseInt(twpro_b.substring(0,twpro_b.search(/ /)));
  return twpro_b_num - twpro_a_num;
}

function twpro_initializeItems(twpro_place,twpro_itemlist)
{
  if(TWPro.twpro_failure) return;
  var twpro_i = 0;
  if(twpro_place=='wear')
  {
    for(var twpro_wear in Wear.wear)
    {
      Wear.wear[twpro_wear].obj.twpro_place = twpro_place;
      Wear.wear[twpro_wear].obj.twpro_html = document.getElementById('char_'+Wear.wear[twpro_wear].obj.type);
      TWPro.twpro_bag.twpro_priceWear+=Wear.wear[twpro_wear].obj.sell_price;
      TWPro.twpro_bag.twpro_countType[Wear.wear[twpro_wear].obj.type]++;
      if(Wear.wear[twpro_wear].obj.type=='yield')
      {
        TWPro.twpro_bag.twpro_priceYields+=Wear.wear[twpro_wear].obj.sell_price;
      }
      else
      {
        TWPro.twpro_bag.twpro_priceItems+=Wear.wear[twpro_wear].obj.sell_price;
      }
      if((Wear.wear[twpro_wear].obj.set!=null) && (TWPro.twpro_setItems[Wear.wear[twpro_wear].obj.item_id]==undefined))
      {
        TWPro.twpro_setItems[Wear.wear[twpro_wear].obj.item_id] = Wear.wear[twpro_wear].obj;
        TWPro.twpro_setItemsCount[Wear.wear[twpro_wear].obj.set.key]++;
      }
      if(TWPro.twpro_invHashTest[Wear.wear[twpro_wear].obj.item_id]==undefined)
      {
        TWPro.twpro_invHashTest[Wear.wear[twpro_wear].obj.item_id]=1;
      }
    }
  }
  if(twpro_place=='bag')
  {
    var twpro_itemcount;
    for(var twpro_bag in Bag.getInstance().items)
    {
      Bag.getInstance().items[twpro_bag].obj.twpro_place = twpro_place;
      Bag.getInstance().items[twpro_bag].obj.twpro_html = Bag.getInstance().items[twpro_bag].bag_item;
      if(Bag.getInstance().items[twpro_bag].count_text)
      {
        twpro_itemcount = parseInt(Bag.getInstance().items[twpro_bag].count_text.firstChild.data);
      }
      else
      {
        twpro_itemcount = 1;
      }
      TWPro.twpro_bag.twpro_priceBag+=twpro_itemcount*Bag.getInstance().items[twpro_bag].obj.sell_price;
      TWPro.twpro_bag.twpro_countType[Bag.getInstance().items[twpro_bag].obj.type]+=twpro_itemcount;
      if(Bag.getInstance().items[twpro_bag].obj.type=='yield')
      {
        TWPro.twpro_bag.twpro_priceYields+=twpro_itemcount*Bag.getInstance().items[twpro_bag].obj.sell_price;
      }
      else
      {
        TWPro.twpro_bag.twpro_priceItems+=twpro_itemcount*Bag.getInstance().items[twpro_bag].obj.sell_price;
      }
      if((Bag.getInstance().items[twpro_bag].obj.set!=null) && (TWPro.twpro_setItems[Bag.getInstance().items[twpro_bag].obj.item_id]==undefined))
      {
        TWPro.twpro_setItems[Bag.getInstance().items[twpro_bag].obj.item_id] = Bag.getInstance().items[twpro_bag].obj;
        TWPro.twpro_setItemsCount[Bag.getInstance().items[twpro_bag].obj.set.key]++;
      }
      if(TWPro.twpro_invHashTest[Bag.getInstance().items[twpro_bag].obj.item_id]==undefined)
      {
        TWPro.twpro_invHashTest[Bag.getInstance().items[twpro_bag].obj.item_id]=1;
      }
    }
  }
  if(twpro_place=='trader')
  {
    for(var twpro_obj in twpro_itemlist.items)
    {
      twpro_itemlist.items[twpro_obj].obj.twpro_place = twpro_place;
      twpro_itemlist.items[twpro_obj].obj.twpro_html = twpro_itemlist.items[twpro_obj].bag_item;
      twpro_itemlist.items[twpro_obj].popup.refresh();
      twpro_i++;
    }
  }
  if(twpro_place=='own')
  {
    for(var twpro_obj in twpro_itemlist.data)
    {
      twpro_itemlist.data[twpro_obj].twpro_place = twpro_place;
      twpro_i++;
    }
    for(var twpro_bag in twpro_itemlist.bags)
    {
      for(var twpro_obj in twpro_itemlist.bags[twpro_bag].items)
      {
        twpro_itemlist.bags[twpro_bag].items[twpro_obj].obj.twpro_html = twpro_itemlist.bags[twpro_bag].items[twpro_obj].bag_item;
      }
    }
  }
}

// ermittelt die optimalen Kleidungsstuecke und errechnet die resultierenden Arbeitspunkte
function twpro_calculateJobs()
{
  if(TWPro.twpro_failure) return;
  var twpro_setitembonus;
  var twpro_setitemjobname;
  for(var twpro_wear in Wear.wear)
  {
    TWPro.twpro_prepareItem(Wear.wear[twpro_wear].obj);
  }
  for(var twpro_bag in Bag.getInstance().items)
  {
    TWPro.twpro_prepareItem(Bag.getInstance().items[twpro_bag].obj);
  }
  TWPro.twpro_calculated = false;
  TWPro.twpro_setItemsCalc = new Object();
  TWPro.twpro_setItemsEffect = false;
  for(var twpro_i=0;twpro_i<TWPro.twpro_bag.twpro_types.length;twpro_i++)
  {
    TWPro.twpro_setItemsCalc[TWPro.twpro_bag.twpro_types[twpro_i]] = new Array(null);
  }
  TWPro.twpro_setCount = new Object();
  for(var twpro_setItemId in TWPro.twpro_setItems)
  {
    var twpro_setItem = TWPro.twpro_setItems[twpro_setItemId];
    if(twpro_setItem.twpro_wearable && (TWPro.twpro_setItemsCount[twpro_setItem.set.key]>=2))
    {
      TWPro.twpro_setItemsCalc[twpro_setItem.type].push(twpro_setItem);
      TWPro.twpro_setCount[twpro_setItem.set.key] = 0;
      TWPro.twpro_setItemsEffect = true;
    }
  }
  for(var twpro_i=0;twpro_i<TWPro.twpro_jobs.length;twpro_i++)
  {
    var twpro_job = TWPro.twpro_jobs[twpro_i];
    twpro_job.twpro_jobid = twpro_i;
    twpro_job.twpro_skill = eval(twpro_job.twpro_calculation);
    twpro_job.twpro_skills = twpro_job.twpro_calculation.replace(/ \+ \d+$/,'');
    twpro_job.twpro_attributes = twpro_job.twpro_skills;
    for(var twpro_attname in Character.skill_names)
    {
      for(var twpro_j=0;twpro_j<Character.skill_names[twpro_attname].length;twpro_j++)
      {
        twpro_job.twpro_attributes = twpro_job.twpro_attributes.replace(new RegExp('\\.'+Character.skill_names[twpro_attname][twpro_j],'g'),'.'+twpro_attname);
      }
    }
    if(TWPro.twpro_setItemsEffect && (!TWPro.twpro_setBonusParsed))
    {
      for(var twpro_itemSet in TWPro.twpro_setBonus)
      {
        var twpro_itemSetBouns = TWPro.twpro_setBonus[twpro_itemSet];
        for(var twpro_j=2;twpro_j<twpro_itemSetBouns.length;twpro_j++)
        {
          twpro_setitembonus = twpro_itemSetBouns[twpro_j];
          twpro_setitemjobname = twpro_job.shortName;
          twpro_setitembonus.parsedBonus[twpro_setitemjobname] = twpro_setitembonus.jobBonus.all + ((twpro_setitembonus.jobBonus[twpro_setitemjobname]==undefined)?(0):(twpro_setitembonus.jobBonus[twpro_setitemjobname])) + TWPro.twpro_testItem(twpro_job,twpro_setitembonus);
        }
      }
    }
    twpro_job.twpro_bestStats = new Object();
    for(var twpro_j=0;twpro_j<TWPro.twpro_bag.twpro_types.length;twpro_j++)
    {
      twpro_job.twpro_bestStats[TWPro.twpro_bag.twpro_types[twpro_j]] = 0;
    }
    for(var twpro_wear in Wear.wear)
    {
      TWPro.twpro_compareItem(twpro_job,Wear.wear[twpro_wear].obj);
    }
    for(var twpro_bag in Bag.getInstance().items)
    {
      TWPro.twpro_compareItem(twpro_job,Bag.getInstance().items[twpro_bag].obj);
    }
    twpro_job.twpro_aps = twpro_job.twpro_skill - twpro_job.malus;
    for(var twpro_type in twpro_job.twpro_bestStats)
    {
      twpro_job.twpro_aps += twpro_job.twpro_bestStats[twpro_type];
    }
    if(TWPro.twpro_setItemsEffect)
    {
      var twpro_setItem;
      twpro_job.twpro_parsedItemBonus = new Object();
      twpro_job.twpro_bestCombi = new Object();
      for(var twpro_type in twpro_job.twpro_bestStats)
      {
        twpro_job.twpro_bestCombi[twpro_type] = 0;
        for(var twpro_j=1;twpro_j<TWPro.twpro_setItemsCalc[twpro_type].length;twpro_j++)
        {
          twpro_setItem = TWPro.twpro_setItemsCalc[twpro_type][twpro_j];
          twpro_job.twpro_parsedItemBonus[twpro_setItem.item_id] = TWPro.twpro_testItem(twpro_job,twpro_setItem);
        }
      }
      twpro_job.twpro_noSetAps = twpro_job.twpro_aps;
    }
  }
  if(TWPro.twpro_setItemsEffect)
  {
    TWPro.twpro_calcSets();
  }
  TWPro.twpro_setBonusParsed = true;
  TWPro.twpro_invHash = TWPro.twpro_invHashTest.join(',');
  TWPro.twpro_calculated = true;
}

function twpro_calcSets()
{
  var twpro_testCombi = new Object();
  for(var twpro_i=0;twpro_i<TWPro.twpro_bag.twpro_types.length;twpro_i++)
  {
    twpro_testCombi[TWPro.twpro_bag.twpro_types[twpro_i]] = 0;
  }
  var twpro_setCounter = TWPro.twpro_setCount;
  TWPro.twpro_testnextvalid = new Array();
  var twpro_testnextvalid = TWPro.twpro_testnextvalid;
  TWPro.twpro_testnextnamen = new Object();
  var twpro_testnextnamen = TWPro.twpro_testnextnamen;
  for(var twpro_set in twpro_setCounter)
  {
    twpro_testnextnamen[twpro_set] = twpro_testnextvalid.push(0)-1;
  }
  var twpro_next = false;
  var twpro_set;
  do
  {
    for(var twpro_i=0;twpro_i<TWPro.twpro_jobs.length;twpro_i++)
    {
      var twpro_job = TWPro.twpro_jobs[twpro_i];
      var twpro_testAps = twpro_job.twpro_noSetAps;
      for(var twpro_type in twpro_testCombi)
      {
        if(twpro_testCombi[twpro_type]!=0)
        {
          twpro_testAps -= twpro_job.twpro_bestStats[twpro_type];
          var twpro_setItem = TWPro.twpro_setItemsCalc[twpro_type][twpro_testCombi[twpro_type]];
          twpro_testAps += twpro_job.twpro_parsedItemBonus[twpro_setItem.item_id];
        }
      }
      for(var twpro_set in twpro_setCounter)
      {
        if(twpro_setCounter[twpro_set]>0)
        {
          twpro_testAps += TWPro.twpro_setBonus[twpro_set][twpro_setCounter[twpro_set]].parsedBonus[twpro_job.shortName];
        }
      }
      if(twpro_testAps > twpro_job.twpro_aps)
      {
        twpro_job.twpro_aps = twpro_testAps;
        for(var twpro_type in twpro_testCombi)
        {
          twpro_job.twpro_bestCombi[twpro_type] = twpro_testCombi[twpro_type];
        }
      }
    }
    do
    {
      TWPro.anzahl3++;
      twpro_next = false;
      for(var twpro_type in twpro_testCombi)
      {
        var twpro_setItemsCalcType = TWPro.twpro_setItemsCalc[twpro_type];
        var twpro_testCombiType = twpro_testCombi[twpro_type];
        if(twpro_testCombiType!=0)
        {
          twpro_set = twpro_setItemsCalcType[twpro_testCombiType].set.key;
          if((--twpro_setCounter[twpro_set])==1)
          {
            twpro_testnextvalid[twpro_testnextnamen[twpro_set]] = 1;
          }
          else
          {
            twpro_testnextvalid[twpro_testnextnamen[twpro_set]] = 0;
          }
        }
        if((twpro_testCombiType+1) < twpro_setItemsCalcType.length)
        {
          twpro_set = twpro_setItemsCalcType[++twpro_testCombi[twpro_type]].set.key;
          if((++twpro_setCounter[twpro_set])==1)
          {
            twpro_testnextvalid[twpro_testnextnamen[twpro_set]] = 1;
          }
          else
          {
            twpro_testnextvalid[twpro_testnextnamen[twpro_set]] = 0;
          }
          twpro_next = true;
          break;
        }
        else
        {
          twpro_testCombi[twpro_type] = 0;
        }
      }
    }
    while((parseInt(twpro_testnextvalid.join(''),10)>0) && twpro_next);
  }
  while(twpro_next);
}

function twpro_prepareItem(twpro_item)
{
  if(TWPro.twpro_failure) return;
  var twpro_storedItem;
  if(TWPro.twpro_itemStorage[twpro_item.item_id] == undefined)
  {
    TWPro.twpro_itemStorage[twpro_item.item_id] = new Object();
    twpro_storedItem = TWPro.twpro_itemStorage[twpro_item.item_id];
  }
  else
  {
    twpro_storedItem = TWPro.twpro_itemStorage[twpro_item.item_id];
    if(twpro_item.twpro_bonus = twpro_storedItem.twpro_bonus)
    {
      twpro_item.twpro_jobbonus = new Object();
    }
    twpro_item.twpro_wearable = twpro_storedItem.twpro_wearable;
    return;
  }
  var twpro_i = 0;
  if(twpro_item.bonus.skills.length==undefined)
  {
    for(var twpro_skillname in twpro_item.bonus.skills)
    {
      twpro_i++;
    }
  }
  if(twpro_item.bonus.attributes.length==undefined)
  {
    for(var twpro_attname in twpro_item.bonus.attributes)
    {
      twpro_i++;
    }
  }
  if(twpro_i>0)
  {
    twpro_item.twpro_bonus = true;
    twpro_item.twpro_jobbonus = new Object();
    twpro_storedItem.twpro_jobbonus = new Object();
  }
  else
  {
    twpro_item.twpro_bonus = false;
  }
  twpro_item.twpro_wearable = TWPro.twpro_wearItem(twpro_item);
  twpro_storedItem.twpro_bonus = twpro_item.twpro_bonus;
  twpro_storedItem.twpro_wearable = twpro_item.twpro_wearable;
}

function twpro_wearItem(twpro_item)
{
  if(TWPro.twpro_failure) return false;
  if((twpro_item.characterClass!=null) && (twpro_item.characterClass!=Character.characterClass))
  {
    return false;
  }
  if((twpro_item.level!=null) && ((twpro_item.level-Character.itemLevelRequirementDecrease[twpro_item.type]-Character.itemLevelRequirementDecrease['all'])>Character.level))
  {
    return false;
  }
  if((twpro_item.characterSex!=null) && ((twpro_item.characterSex!=Character.characterSex) || (Character.characterClass=='greenhorn')))
  {
    return false;
  }
  return true;
}

function twpro_compareItem(twpro_job,twpro_item)
{
  if(TWPro.twpro_failure) return;
  var twpro_aktplus = TWPro.twpro_testItem(twpro_job,twpro_item);
  if(twpro_item.twpro_bonus)
  {
    twpro_item.twpro_jobbonus[twpro_job.shortName] = twpro_aktplus;
    TWPro.twpro_itemStorage[twpro_item.item_id].twpro_jobbonus[twpro_job.shortName] = twpro_aktplus;
  }
  if((twpro_aktplus>=twpro_job.twpro_bestStats[twpro_item.type]) && twpro_item.twpro_wearable)
  {
    twpro_job.twpro_bestStats[twpro_item.type] = twpro_aktplus;
  }
}

function twpro_testItem(twpro_job,twpro_item)
{
  if(TWPro.twpro_failure) return 0;
  if((!twpro_item.twpro_bonus) && (twpro_item.jobBonus==undefined))
  {
    return 0;
  }
  if(TWPro.twpro_itemStorage[twpro_item.item_id] != undefined)
  {
    if(TWPro.twpro_itemStorage[twpro_item.item_id].twpro_jobbonus[twpro_job.shortName] != undefined)
    {
      return TWPro.twpro_itemStorage[twpro_item.item_id].twpro_jobbonus[twpro_job.shortName];
    }
  }
  var twpro_aktskills = twpro_job.twpro_skills;
  var twpro_aktattributes = twpro_job.twpro_attributes;
  for(var twpro_skillname in twpro_item.bonus.skills)
  {
    twpro_aktskills = twpro_aktskills.replace(new RegExp('Character\\.skills\\.'+twpro_skillname,'g'),twpro_item.bonus.skills[twpro_skillname]);
  }
  twpro_aktskills = twpro_aktskills.replace(new RegExp('Character\\.skills\\.\\w+','g'),'0');
  for(var twpro_attname in twpro_item.bonus.attributes)
  {
    twpro_aktattributes = twpro_aktattributes.replace(new RegExp('Character\\.skills\\.'+twpro_attname,'g'),twpro_item.bonus.attributes[twpro_attname]);
  }
  twpro_aktattributes = twpro_aktattributes.replace(new RegExp('Character\\.skills\\.\\w+','g'),'0');
  return eval(twpro_aktskills)+eval(twpro_aktattributes);
}

function twpro_changeItem()
{
  if(TWPro.twpro_failure) return;
  TWPro.twpro_bag.twpro_priceWear = 0;
  TWPro.twpro_bag.twpro_priceBag = 0;
  TWPro.twpro_bag.twpro_priceItems = 0;
  TWPro.twpro_bag.twpro_priceYields = 0;
  TWPro.twpro_setItems = new Object();
  for(var twpro_set in TWPro.twpro_setBonus)
  {
    TWPro.twpro_setItemsCount[twpro_set] = 0;
  }
  for(var twpro_i=0;twpro_i<TWPro.twpro_bag.twpro_types.length;twpro_i++)
  {
    TWPro.twpro_bag.twpro_countType[TWPro.twpro_bag.twpro_types[twpro_i]] = 0;
  }
  //TWPro.twpro_invHash = new Array();
  TWPro.twpro_initializeItems('wear',null);
  TWPro.twpro_initializeItems('bag',null);
  TWPro.twpro_bag.twpro_bagPopup.twpro_refresh();
  TWPro.twpro_changeJob();
}

function twpro_changeJob()
{
  if(TWPro.twpro_failure) return;
  if(TWPro.twpro_calculated)
  {
    var twpro_jobList = document.getElementById('twpro_jobList');
    var twpro_selected = twpro_jobList.selectedIndex;
    twpro_jobList.style.backgroundColor = twpro_jobList[twpro_selected].style.backgroundColor;
    var twpro_selectedJob = parseInt(twpro_jobList[twpro_selected].value);
    for(var twpro_i=0;twpro_i<TWPro.twpro_bag.twpro_types.length;twpro_i++)
    {
      if(document.getElementById('char_'+TWPro.twpro_bag.twpro_types[twpro_i]))
      {
        document.getElementById('char_'+TWPro.twpro_bag.twpro_types[twpro_i]).className = 'wear_'+TWPro.twpro_bag.twpro_types[twpro_i];
      }
    }
    for(var twpro_wear in Wear.wear)
    {
      Wear.wear[twpro_wear].popup.refresh();
    }
    for(var twpro_bag in Bag.getInstance().items)
    {
      Bag.getInstance().items[twpro_bag].popup.refresh();
      Bag.getInstance().items[twpro_bag].obj.twpro_html.firstChild.className = '';
    }
    if(twpro_selectedJob>=0)
    {
      var twpro_job = TWPro.twpro_jobs[twpro_selectedJob];
      TWPro.twpro_highlight(twpro_job);
      var twpro_aktuelleap = twpro_job.twpro_skill - twpro_job.malus;
      var twpro_setCounter = new Object();
      for(var twpro_wear in Wear.wear)
      {
        if(Wear.wear[twpro_wear].obj.twpro_bonus)
        {
          twpro_aktuelleap += Wear.wear[twpro_wear].obj.twpro_jobbonus[twpro_job.shortName];
        }
        if(Wear.wear[twpro_wear].obj.set != null)
        {
          if(twpro_setCounter[Wear.wear[twpro_wear].obj.set.key]==undefined)
          {
            twpro_setCounter[Wear.wear[twpro_wear].obj.set.key] = 1;
          }
          else
          {
            twpro_setCounter[Wear.wear[twpro_wear].obj.set.key]++;
          }
        }
      }
      for(var twpro_set in twpro_setCounter)
      {
        if(twpro_setCounter[twpro_set]>=2)
        {
          twpro_aktuelleap += TWPro.twpro_setBonus[twpro_set][twpro_setCounter[twpro_set]].parsedBonus[twpro_job.shortName];
        }
      }
      if((twpro_job.shortName=='construct') && (Character.characterClass=='worker'))
      {
        twpro_aktuelleap = Math.floor(twpro_aktuelleap*1.05);
      }
      document.getElementById('twpro_aktuelleapvalue').innerHTML = twpro_aktuelleap+' PT Actuais';
      if(twpro_aktuelleap > 0)
      {
        if(twpro_aktuelleap >= twpro_job.twpro_aps)
        {
          document.getElementById('twpro_aktuelleapvalue').style.backgroundColor = 'rgb(160, 218, 120)';
        }
        else
        {
          document.getElementById('twpro_aktuelleapvalue').style.backgroundColor = 'rgb(230, 235, 108)';
        }
      }
      else
      {
        document.getElementById('twpro_aktuelleapvalue').style.backgroundColor = 'rgb(232, 150, 120)';
      }
      document.getElementById('twpro_aktuelleap').style.visibility = 'visible';
    }
    else
    {
      document.getElementById('twpro_aktuelleap').style.visibility = 'hidden';
    }
  }
}

function twpro_highlight(twpro_job)
{
  if(TWPro.twpro_failure) return;
  for(var twpro_wear in Wear.wear)
  {
    var twpro_item = Wear.wear[twpro_wear].obj;
    if(TWPro.twpro_setItemsEffect && (twpro_job.twpro_bestCombi[twpro_item.type] > 0))
    {
      if(TWPro.twpro_setItemsCalc[twpro_item.type][twpro_job.twpro_bestCombi[twpro_item.type]].item_id == twpro_item.item_id)
      {
        twpro_item.twpro_html.className=twpro_item.twpro_html.className+' wear_'+twpro_item.type+'_highlight';
      }
    }
    else
    {
      if((twpro_item.twpro_wearable) && ((twpro_item.type=='animal') || ((twpro_item.twpro_bonus==false) && (twpro_job.twpro_bestStats[twpro_item.type]==0)) || ((twpro_item.twpro_bonus==true) && (twpro_item.twpro_jobbonus[twpro_job.shortName]>=twpro_job.twpro_bestStats[twpro_item.type]))))
      {
        twpro_item.twpro_html.className=twpro_item.twpro_html.className+' wear_'+twpro_item.type+'_highlight';
      }
    }
  }
  for(var twpro_bag in Bag.getInstance().items)
  {
    var twpro_item = Bag.getInstance().items[twpro_bag].obj;
    if(TWPro.twpro_setItemsEffect && (twpro_job.twpro_bestCombi[twpro_item.type] > 0))
    {
      if(TWPro.twpro_setItemsCalc[twpro_item.type][twpro_job.twpro_bestCombi[twpro_item.type]].item_id == twpro_item.item_id)
      {
        twpro_item.twpro_html.firstChild.className='wear_yield_highlight';
      }
    }
    else
    {
      if((twpro_item.twpro_wearable) && ((twpro_item.type!='animal') && ((((twpro_item.type=='yield') || (twpro_item.type=='right_arm')) && (twpro_item.twpro_bonus==true) && (twpro_job.twpro_bestStats[twpro_item.type]>0) && (twpro_item.twpro_jobbonus[twpro_job.shortName]>=twpro_job.twpro_bestStats[twpro_item.type])) || ((twpro_item.type!='yield') && (twpro_item.type!='right_arm') && (((twpro_item.twpro_bonus==false) && (twpro_job.twpro_bestStats[twpro_item.type]==0)) || ((twpro_item.twpro_bonus==true) && (twpro_item.twpro_jobbonus[twpro_job.shortName]>=twpro_job.twpro_bestStats[twpro_item.type])))))))
      {
        twpro_item.twpro_html.firstChild.className='wear_yield_highlight';
      }
    }
  }
}

var twpro_scriptelement = document.createElement('script');
twpro_scriptelement.type='text/javascript';
twpro_scriptelement.text = 'if(window.TWPro==undefined)\n';
twpro_scriptelement.text += '{\n';
twpro_scriptelement.text += '  window.TWPro = new Object();\n';
twpro_scriptelement.text += '  TWPro.twpro_injectScript = '+twpro_injectScript.toString()+'\n';
twpro_scriptelement.text += '  TWPro.twpro_throwFailure = '+twpro_throwFailure.toString()+'\n';
twpro_scriptelement.text += '  TWPro.twpro_injectionSwitch = '+twpro_injectionSwitch.toString()+'\n';
twpro_scriptelement.text += '  TWPro.twpro_getAuthor = '+twpro_getAuthor.toString()+'\n';
twpro_scriptelement.text += '  TWPro.twpro_activeJob = '+twpro_activeJob.toString()+'\n';
twpro_scriptelement.text += '  TWPro.twpro_getPlace = '+twpro_getPlace.toString()+'\n';
twpro_scriptelement.text += '  TWPro.twpro_initializeItems = '+twpro_initializeItems.toString()+'\n';
twpro_scriptelement.text += '  TWPro.twpro_popup = '+twpro_popup.toString()+'\n';
twpro_scriptelement.text += '  TWPro.twpro_insertList = '+twpro_insertList.toString()+'\n';
twpro_scriptelement.text += '  TWPro.twpro_showList = '+twpro_showList.toString()+'\n';
twpro_scriptelement.text += '  TWPro.twpro_getBagPopup = '+twpro_getBagPopup.toString()+'\n';
twpro_scriptelement.text += '  TWPro.twpro_clickList = '+twpro_clickList.toString()+'\n';
twpro_scriptelement.text += '  TWPro.twpro_updateList = '+twpro_updateList.toString()+'\n';
twpro_scriptelement.text += '  TWPro.twpro_sortJobs = '+twpro_sortJobs.toString()+'\n';
twpro_scriptelement.text += '  TWPro.twpro_sortList = '+twpro_sortList.toString()+'\n';
twpro_scriptelement.text += '  TWPro.twpro_insertListItems = '+twpro_insertListItems.toString()+'\n';
twpro_scriptelement.text += '  TWPro.twpro_jobSortMark = '+twpro_jobSortMark.toString()+'\n';
twpro_scriptelement.text += '  TWPro.twpro_sortPlus = '+twpro_sortPlus.toString()+'\n';
twpro_scriptelement.text += '  TWPro.twpro_calculateJobs = '+twpro_calculateJobs.toString()+'\n';
twpro_scriptelement.text += '  TWPro.twpro_calcSets = '+twpro_calcSets.toString()+'\n';
twpro_scriptelement.text += '  TWPro.twpro_prepareItem = '+twpro_prepareItem.toString()+'\n';
twpro_scriptelement.text += '  TWPro.twpro_compareItem = '+twpro_compareItem.toString()+'\n';
twpro_scriptelement.text += '  TWPro.twpro_wearItem = '+twpro_wearItem.toString()+'\n';
twpro_scriptelement.text += '  TWPro.twpro_testItem = '+twpro_testItem.toString()+'\n';
twpro_scriptelement.text += '  TWPro.twpro_changeItem = '+twpro_changeItem.toString()+'\n';
twpro_scriptelement.text += '  TWPro.twpro_changeJob = '+twpro_changeJob.toString()+'\n';
twpro_scriptelement.text += '  TWPro.twpro_highlight = '+twpro_highlight.toString()+'\n';
twpro_scriptelement.text += '  TWPro.twpro_injectScript();\n';
twpro_scriptelement.text += '}';
document.body.appendChild(twpro_scriptelement);

//script do conversor

(function(){
	var doc = document;
	var console = unsafeWindow.console;
	function $(id) { return(doc.getElementById(id)); }
	function xp1(x, p) {
		var r = doc.evaluate(x, p, null, 9, null).singleNodeValue;
		return(r);
	}
	function xp(x, p) {
		var r = doc.evaluate(x, p, null, XPathResult.ORDERED_NODE_SNAPSHOT_TYPE, null);
		var len = r.snapshotLength;
		var ar = new Array(len);
		for(var i=0; i<len; i++) {
			ar[i] = r.snapshotItem(i);
		}
		return(ar);
	}
	function __tf(template, name) {
		for(var elName in template)
		{
			if (template.hasOwnProperty(elName))
			{
				var p = template[elName];
				if (elName == name)
					return(p);
				if (p.children)
				{
					var q = __tf(p.children, name);
					if (q)
						return(q);
				}
			}
		}
		return(null);
	}
	function dc(template, parent)
	{
		// { thead: { el:null, attrs:{}, children: {} } }
		for(var elName in template)
		{
			if (template.hasOwnProperty(elName))
			{
				var p = template[elName];
				p.el = doc.createElement(p.tag);
				if (parent)
					parent.appendChild(p.el);
				
				if (p.attrs)
				{
					for(var atName in p.attrs)
					{
						if (p.attrs.hasOwnProperty(atName))
						{
							var atValue = p.attrs[atName];
							if (atName == "text")
								p.el.textContent = atValue;
							else if (atName == "html")
								p.el.innerHTML = atValue;
							else
								p.el.setAttribute(atName, atValue);
						}
					}
				}
				
				if (p.children)
				{
					dc(p.children, p.el);
				}
			}
		}
		template.find = function(name) {
			return(__tf(template, name));
		};
		return(template);
	}
	
	function repeat(c, n) {
		var s = "";
		for(var i=0; i<n; i++)
			s += c;
		return(s);
	}
	function padLeft(s, len, c) {
		c = c || " ";
		s = s.toString();
		if (s.length < len)
			s = repeat(c, len - s.length) + s;
		return(s);
	}
	function padRight(s, len, c) {
		c = c || " ";
		s = s.toString();
		if (s.length < len)
			s += repeat(c, len - s.length);
		return(s);
	}

	function convertDuelReport(div) {

		var duelo = {};

                duelo.desafiador = 0;
                teste = xp1('./table/tbody/tr[2]/td[2]/div/div/table[1]/tbody/tr/td[1]', div).innerHTML;
                teste = teste.substr(teste.lastIndexOf("<br>")+4);
                if (teste.substr(0,8) == "<strong>")
                         duelo.desafiador = 1;
                else
                         duelo.desafiador = 2;

		duelo.p1 = xp1('./table/tbody/tr[2]/td[2]/div/div/table[1]/tbody/tr/td[1]', div).innerHTML;
		         inicio_j1 = duelo.p1.indexOf(");\">");
                         duelo.p1 = duelo.p1.substr(inicio_j1+4);
                         fim_j1 = duelo.p1.indexOf("<");
                duelo.p1 = duelo.p1.substr(0,fim_j1);

                duelo.n1 = xp1('./table/tbody/tr[2]/td[2]/div/div/table[1]/tbody/tr/td[1]', div).innerHTML;
                         inicio_n1 = duelo.n1.indexOf("<br>");
                         duelo.n1 = duelo.n1.substr(inicio_n1+8);
                         fim_n1 = duelo.n1.indexOf("<");
                duelo.n1 = duelo.n1.substring(0,fim_n1);

                if(duelo.desafiador == 2){
                  duelo.nd1 = xp1('./table/tbody/tr[2]/td[2]/div/div/table[1]/tbody/tr/td[1]', div).innerHTML;
                           inicio_nd1 = duelo.nd1.lastIndexOf("<br>");
                           duelo.nd1 = duelo.nd1.substr(inicio_nd1+8);
                           fim_nd1 = duelo.nd1.indexOf("	");
                  duelo.nd1 = duelo.nd1.substring(0,fim_nd1);
                }else if (duelo.desafiador == 1){
                  duelo.nd1 = xp1('./table/tbody/tr[2]/td[2]/div/div/table[1]/tbody/tr/td[1]', div).innerHTML;
                           inicio_nd1 = duelo.nd1.indexOf("<br>");
                           duelo.nd1 = duelo.nd1.substr(inicio_nd1+8);

                           inicio_nd1 = duelo.nd1.indexOf("<br>");
                           duelo.nd1 = duelo.nd1.substr(inicio_nd1+8);

                           fim_nd1 = duelo.nd1.indexOf("	");
                  duelo.nd1 = duelo.nd1.substring(0,fim_nd1);
                }

		duelo.loc = xp1('./table/tbody/tr[2]/td[2]/div/div/table[1]/tbody/tr/td[3]', div).innerHTML;
                          inicio_local = duelo.loc.indexOf("<h4>");
                          duelo.loc = duelo.loc.substr(inicio_local+4);
                          duelo.loc = duelo.loc.substr(0,duelo.loc.indexOf("</h4>"));
                          tmp = duelo.loc;

                duelo.loc = xp1('./table/tbody/tr[2]/td[2]/div/div/table[1]/tbody/tr/td[3]', div).innerHTML;
		          inicio_local = duelo.loc.lastIndexOf(">");
		          duelo.loc = duelo.loc.substr(inicio_local+5);
		          duelo.loc = duelo.loc.substring(0,duelo.loc.indexOf("	")-1);
		          tmp2 = duelo.loc;

		          duelo.loc = tmp + ": " + tmp2;

		duelo.p2 = xp1('./table/tbody/tr[2]/td[2]/div/div/table[1]/tbody/tr/td[5]', div).innerHTML;
		         inicio_j2 = duelo.p2.indexOf(");\">");
                         duelo.p2 = duelo.p2.substr(inicio_j2+4);
                         fim_j2 = duelo.p2.indexOf("<");
                duelo.p2 = duelo.p2.substr(0,fim_j2);

                duelo.n2 = xp1('./table/tbody/tr[2]/td[2]/div/div/table[1]/tbody/tr/td[5]', div).innerHTML;
                         inicio_n2 = duelo.n2.indexOf("<br>");
                         duelo.n2 = duelo.n2.substr(inicio_n2+8);
                         fim_n2 = duelo.n2.indexOf("<");
                duelo.n2 = duelo.n2.substring(0,fim_n2);

                if(duelo.desafiador == 1){
                  duelo.nd2 = xp1('./table/tbody/tr[2]/td[2]/div/div/table[1]/tbody/tr/td[5]', div).innerHTML;
                           inicio_nd2 = duelo.nd2.lastIndexOf("<br>");
                           duelo.nd2 = duelo.nd2.substr(inicio_nd2+8);
                           fim_nd2 = duelo.nd2.indexOf("	");
                  duelo.nd2 = duelo.nd2.substring(0,fim_nd2);
                }else if(duelo.desafiador == 2){
                  duelo.nd2 = xp1('./table/tbody/tr[2]/td[2]/div/div/table[1]/tbody/tr/td[5]', div).innerHTML;
                           inicio_nd2 = duelo.nd2.indexOf("<br>");
                           duelo.nd2 = duelo.nd2.substr(inicio_nd2+8);

                           inicio_nd2 = duelo.nd2.indexOf("<br>");
                           duelo.nd2 = duelo.nd2.substr(inicio_nd2+8);

                           fim_nd2 = duelo.nd2.indexOf("	");
                  duelo.nd2 = duelo.nd2.substring(0,fim_nd2);
                }

		duelo.hitsBody = xp1('./table/tbody/tr[2]/td[2]/div/div/table[2]/tbody', div).innerHTML;
		danos = duelo.hitsBody.substr(duelo.hitsBody.lastIndexOf("<tr>"));
                danos = danos.substr(danos.indexOf("bold;\">")+7);
                dano_j2 = danos.substr(0,danos.indexOf("</span>"))+": ";
                danos = danos.substr(danos.indexOf("bold;\">")+7);
                dano_j2 += danos.substr(0,danos.indexOf("</span>"));
                danos = danos.substr(danos.indexOf("bold;\">")+7);
                dano_j1 = danos.substr(0,danos.indexOf("</span>"))+": ";
                danos = danos.substr(danos.indexOf("bold;\">")+7);
                dano_j1 += danos.substr(0,danos.indexOf("</span>"));

		duelo.final = xp1('./table/tbody/tr[2]/td[2]/div/div/h4', div).innerHTML;

		var espacos = 25;
		var code = "[code]\n";
		code += "+-------------------------------------------------------+\n";
		code += "| " + padRight(duelo.loc, 53) + " |\n";
		code += "+-------------------------------------------------------+\n";
		code += "| " + padLeft(duelo.p1, espacos) + " | " + padRight(duelo.p2, espacos) + " |\n";
		code += "| " + padLeft(duelo.n1, espacos) + " | " + padRight(duelo.n2, espacos) + " |\n";
		code += "| " + padLeft(duelo.nd1, espacos) + " | " + padRight(duelo.nd2, espacos) + " |\n";
		code += "+---------------------------+---------------------------+\n";
                code += "| " + padRight(duelo.p1 + ": " + dano_j2, 53) + " |\n";
                code += "| " + padRight(duelo.p2 + ": " + dano_j1, 53) + " |\n";
		code += "+-------------------------------------------------------+\n";
		code += "[/code]\n\n";
		code += duelo.final;

		alert(code);
	}

	function hookReport(div) {
		var titleRow = xp1('./table/tbody/tr[2]/td[2]/div/table/tbody/tr', div);
		if (!titleRow) return;

		if (titleRow.textContent.match(/Duelo:/)){

                }else if (titleRow.textContent.match(/Duel:/)){
                  
                }else{
                  return;
                }
		
		var t = dc({
			"th": { 
				tag: "th", 
				children: {
					"btn": {
						tag: "button",
						attrs: {
							text: "Converter",
							title: "Botao Converter"
						}
					}
				}
			}
		});
		titleRow.appendChild(t["th"].el);
		t.find("btn").el.addEventListener("click", function() { convertDuelReport(div); }, false);
	}
	
	//
	// Start up
	//
	var loc = doc.location;
	var o_show = unsafeWindow.AjaxWindow.setJSHTML;
	var f = function(div, content) {
		if (!div) return;
		var ret = o_show(div, content);
		hookReport(div);
		return(ret);
	};
	for(var o in o_show) {
		f[o] = o_show[o];
	}
	unsafeWindow.AjaxWindow.setJSHTML = f;
	
})();